import{r as p,j as e,Y as b,y as o}from"./app-DScfK1hL.js";import{A as f}from"./AuthenticatedLayout-DxcxlKRM.js";import{M as y}from"./index-CvfbgzZS.js";import"./transition-CUd_Qt6M.js";import"./ReactToastify-VWIT7PLZ.js";import"./Modal-CDxSh8lA.js";function S(c){const{role:m,permissions:h,permissionsList:n}=c,x=n.reduce((s,t)=>{const[l,...r]=t.split(" "),a=r.join(" ");return s[a]=s[a]||[],s[a].push({action:l,permission:t}),s},{}),[i,d]=p.useState(h),u=s=>{d(t=>t.includes(s)?t.filter(l=>l!==s):[...t,s])},g=async()=>{await o.put(route("role.updatePermission",m.id),i)};return e.jsx(e.Fragment,{children:e.jsxs(f,{auth:c.auth,errors:c.errors,header:e.jsxs(e.Fragment,{children:[e.jsx(y,{size:20,className:"mr-2 cursor-pointer",onClick:()=>o.get(route("role.index")),title:"Back"}),e.jsx("div",{className:"flex flex-col px-4 ",children:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Manage Permission Role: ",m.name]})})]}),children:[e.jsx(b,{title:"Admin Dashboard"}),e.jsx("div",{className:" grid justify-center py-6 ",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 w-full ",children:[e.jsx("div",{className:"mt-4 ",children:e.jsxs("label",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",checked:n.length===i.length,onChange:s=>{d(s.target.checked?n:[])}}),e.jsx("span",{className:"ml-2",children:"Select All"})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("hr",{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(x).map(([s,t])=>e.jsx("div",{className:"my-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[e.jsxs("h4",{className:"font-semibold capitalize flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.every(({permission:l})=>i.includes(l)),onChange:()=>{const l=t.map(({permission:a})=>a),r=l.every(a=>i.includes(a));d(a=>r?a.filter(j=>!l.includes(j)):[...a,...l])}}),e.jsx("span",{children:s})]}),t.map(({action:l,permission:r})=>e.jsxs("label",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",checked:i.includes(r),onChange:()=>u(r)}),e.jsxs("span",{className:"ml-2",children:[l," ",s]})]},r))]})},s))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 w-full sm:w-auto",children:"Save"}),e.jsx("button",{onClick:()=>o.get(route("role.index")),className:"px-4 py-2 bg-gray-500 ml-2 text-white rounded hover:bg-gray-600 w-full sm:w-auto",children:"Cancel"})]})]})})]})})}export{S as default};
