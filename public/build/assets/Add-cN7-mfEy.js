import{r as o,j as e,Y as K,y as i}from"./app-1tDhANAP.js";import{F as g,a as N,b as s,E as r,c as H}from"./formik.esm-SY2zKFCx.js";import{b as C}from"./index-Bb4ek-R_.js";import{A as J,M as X}from"./AuthenticatedLayout-BR3qE9xB.js";import{c as v,b as m,a as t,d as E}from"./index.esm-ChCmDN1d.js";import{S as I}from"./react-select.esm-Ccr26Fu8.js";import{R as M}from"./index-D7DsmsTJ.js";/* empty css                   */import{M as y}from"./Modal-DHnPwDr0.js";import{R as F}from"./index-CY6J-ezy.js";import{B as P}from"./ReactToastify-nnKg42CL.js";/* empty css                */import{C as Z}from"./CategoryForm-C0WIdLPb.js";import{B as V}from"./BrandForm-C9cV1urI.js";import"./transition-CVoSijdV.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";function ge(B){const{auth:A,categories:D,brands:$,code:ee,invoicecode:ae,suppliers:R,supplierinvoices:_,categories_object_model:T}=B,[z,p]=o.useState(!1),[O,b]=o.useState(!1),[W,k]=o.useState(!1),[Y,f]=o.useState(!1),[j,Q]=o.useState(!1),[se,U]=o.useState(""),w={control:(a,n)=>({...a,borderColor:n.isFocused?"black":a.borderColor,boxShadow:n.isFocused?"0 0 0 1px black":a.boxShadow,"&:hover":{borderColor:n.isFocused?"black":a.borderColor}})},[S,L]=o.useState(!1),[q,G]=o.useState(!1);return e.jsxs(J,{Product:A.Product,header:e.jsxs(e.Fragment,{children:[e.jsx(X,{size:20,className:"mr-2 cursor-pointer",onClick:()=>i.get(route("product.index")),title:"Back"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Add Purchase"})]}),children:[e.jsx(K,{title:"Purchase"}),e.jsx("div",{className:"flex flex-col px-4  mt-10 mx-auto w-full",children:e.jsx("div",{className:"w-full ",children:e.jsx("div",{className:"font-sans antialiased bg-grey-lightest",children:e.jsx("div",{className:"w-full bg-grey-lightest",children:e.jsx("div",{className:"container mx-auto py-3 px-5",children:e.jsx("div",{className:"w-full lg:w-full mx-auto bg-white rounded shadow",children:e.jsx(g,{enableReinitialize:!0,initialValues:{name:"",model:"",specifications:"",purchase_price:"",selling_price:"",warranty_period:"",is_borrow:"0",shop_name:"",shop_address:"",shop_phone:"",shop_email:"",identity_type:"none",identity_value:"",warranty_type:"none",is_warranty:"0",categories:[],brands:[],quantity:1,description:"",supplier_invoice_no:"",weight:"",is_supplier:"0",customfield:[],type:"new"},validationSchema:v({name:t().required("Name is required"),model:t(),specifications:t(),purchase_price:m().required("Purchase price is required"),selling_price:m().required("Selling price is required"),type:t().required("Type is required"),quantity:m().when("identity_type",{is:"imei",then:a=>a.required().max(1,"Quantity must be less than or equal to 1").min(1,"Quantity must be greater than or equal to 1"),otherwise:a=>a.optional()}),weight:m(),is_supplier:t().required("Is supplier is required"),supplier_invoice_no:t().when("is_supplier",{is:"1",then:a=>a.required(),otherwise:a=>a.optional()}),is_borrow:t().required("Is borrow is required"),shop_name:t(),shop_address:t(),shop_phone:t(),description:t(),shop_email:t().email("Invalid email address"),identity_type:t().required("Identity type is required"),identity_value:t().when("identity_type",{is:"none",then:a=>a.optional(),otherwise:a=>a.required()}),is_warranty:t().required("Is warranty is required"),warranty_type:t().when("is_warranty",{is:"1",then:a=>a.required().notOneOf(["none"],'Warranty type cannot be "none"'),otherwise:a=>a.optional()}),warranty_period:m().when("is_warranty",{is:"1",then:a=>a.required(),otherwise:a=>a.optional()})}),onSubmit:(a,{setSubmitting:n,resetForm:u})=>{i.post(route("product.store"),a,{onSuccess:({props:c})=>{c.flash.error||u()},preserveScroll:!0})},children:({values:a,errors:n,touched:u,setFieldValue:c,isSubmitting:h})=>e.jsx(N,{children:e.jsxs("div",{className:"py-4 px-8",children:[e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"first_name",children:"Name"}),e.jsx(s,{name:"name",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"name",type:"text",placeholder:"Enter name"}),e.jsx(r,{name:"name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"first_name",children:"Model  (optional)"}),e.jsx(s,{name:"model",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"model",type:"text",placeholder:"Enter model"}),e.jsx(r,{name:"model",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-grey-darker text-sm font-bold mb-2 flex items-center gap-2",for:"specifications",children:["Specifications  (optional) ",e.jsx(C,{size:15,onClick:()=>G(!q)})]}),q&&e.jsx(M,{theme:"snow",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",value:a.specifications,onChange:l=>c("specifications",l)}),e.jsx(r,{name:"specifications",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-grey-darker text-sm font-bold mb-2 flex items-center gap-2",for:"specifications",children:["Description  (optional) ",e.jsx(C,{size:15,onClick:()=>L(!S)})]}),S&&e.jsx(M,{theme:"snow",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",value:a.description,onChange:l=>c("description",l)}),e.jsx(r,{name:"description",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"purchase_price",children:"Purchase Price"}),e.jsx(s,{name:"purchase_price",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"purchase_price",type:"number",step:"0.01",placeholder:"Enter purchase price"}),e.jsx(r,{name:"purchase_price",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Selling Price"}),e.jsx(s,{name:"selling_price",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"selling_price",type:"number",step:"0.01",placeholder:"Enter selling price"}),e.jsx(r,{name:"selling_price",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Quantity"}),e.jsx(s,{name:"quantity",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"quantity",type:"number",min:"1",placeholder:"Enter quantity"}),e.jsx(r,{name:"quantity",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Weight - (kg) (optional)"}),e.jsx(s,{name:"weight",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"weight",type:"number",step:"0.01",placeholder:"Enter weight"}),e.jsx(r,{name:"weight",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4 ",children:[e.jsxs("div",{className:"flex items-center justify-start gap-2 mt-2 mb-2",children:[e.jsx("label",{className:"block   text-grey-darker text-sm font-bold ",for:"categories",children:"Select Category (optional)"}),e.jsx("button",{type:"button",onClick:()=>k(!0),className:"text-black text-sm underline hover:text-gray-700",children:"Create a new category"})]}),e.jsx(I,{onChange:l=>{c("categories",l.map(x=>x.value))},isMulti:!0,name:"categories",options:D,className:"basic-multi-select",classNamePrefix:"select",styles:w}),e.jsx(r,{name:"categories",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-start gap-2 mt-2 mb-2",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold ",for:"brands",children:"Select Brand  (optional)"}),e.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-black text-sm underline hover:text-gray-700",children:"Create a new brand"})]}),e.jsx(I,{onChange:l=>{c("brands",l.map(x=>x.value))},isMulti:!0,name:"brands",options:$,className:"basic-multi-select",classNamePrefix:"select",styles:w}),e.jsx(r,{name:"brands",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"type",children:"Type "}),e.jsxs(s,{name:"type",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"type",as:"select",children:[e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"used",children:"Used"})]}),e.jsx(r,{name:"type",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Identity Type"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 w-1/2",children:[e.jsxs("div",{children:[e.jsx(s,{className:"hidden",id:"radio_1",value:"none",type:"radio",name:"identity_type"}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="none"?"  border-black":"border-gray-400"}`,htmlFor:"radio_1",children:e.jsx("span",{className:"text-xs font-semibold uppercase",children:"None"})})]}),e.jsxs("div",{children:[e.jsx(s,{className:"hidden",id:"radio_2",value:"imei",type:"radio",name:"identity_type"}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="imei"?"border-black":"border-gray-400"}`,htmlFor:"radio_2",children:e.jsx("span",{className:"text-xs font-semibold uppercase",children:"Imei"})})]}),e.jsxs("div",{children:[e.jsx(s,{className:"hidden",id:"radio_3",value:"sku",type:"radio",name:"identity_type"}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="sku"?"border-black":"border-gray-400"}`,htmlFor:"radio_3",children:e.jsx("span",{className:"text-xs font-semibold uppercase",children:"Sku"})})]}),e.jsxs("div",{children:[e.jsx(s,{className:"hidden",id:"radio_4",value:"serial",type:"radio",name:"identity_type"}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="serial"?"border-black":"border-gray-400"}`,htmlFor:"radio_4",children:e.jsx("span",{className:"text-xs font-semibold uppercase",children:"Serial"})})]})]})]}),a.identity_type!=="none"&&e.jsxs("div",{className:" mr-1 mb-4 ",children:[e.jsxs("label",{className:"block text-grey-darker text-sm  mb-2",for:"warranty_period",children:[a.identity_type.charAt(0).toUpperCase()+a.identity_type.slice(1)," "]}),e.jsx(s,{name:"identity_value",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter "+a.identity_type.charAt(0).toUpperCase()+a.identity_type.slice(1)}),e.jsx(r,{name:"identity_value",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Is Warranty"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4",children:[e.jsx(s,{name:"is_warranty",type:"radio",value:"1",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," Yes"]}),e.jsxs("label",{children:[e.jsx(s,{name:"is_warranty",type:"radio",value:"0",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," No"]})]}),e.jsx(r,{name:"is_warranty",component:"div",className:"text-red-500 text-xs mt-1"})]}),a.is_warranty==="1"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"warranty_period",children:"Warranty Type "}),e.jsxs(s,{name:"warranty_type",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"warranty_type",as:"select",children:[e.jsx("option",{value:"",children:"Select Warranty Type"}),e.jsx("option",{value:"years",children:"Year"}),e.jsx("option",{value:"months",children:"Month"}),e.jsx("option",{value:"days",children:"Day"})]}),e.jsx(r,{name:"warranty_type",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"warranty_period",children:"Warranty Period "}),e.jsx(s,{name:"warranty_period",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"warranty_period",type:"number",step:"1",placeholder:"Enter warranty period"}),e.jsx(r,{name:"warranty_period",component:"div",className:"text-red-500 text-xs mt-1"})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Is Borrow"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4",children:[e.jsx(s,{name:"is_borrow",type:"radio",value:"1",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," Yes"]}),e.jsxs("label",{children:[e.jsx(s,{name:"is_borrow",type:"radio",value:"0",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," No"]})]}),e.jsx(r,{name:"is_borrow",component:"div",className:"text-red-500 text-xs mt-1"})]}),a.is_borrow==="1"&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"block text-grey-darker text-sm my-2 text-red-500",for:"shop_name",children:"Fill atleast one"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_name",children:"Shop Name"}),e.jsx(s,{name:"shop_name",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"shop_name",type:"text",placeholder:"Enter shop name"}),e.jsx(r,{name:"shop_name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_address",children:"Shop Address"}),e.jsx(s,{as:"textarea",name:"shop_address",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"shop_address",rows:"3",placeholder:"Enter shop address"}),e.jsx(r,{name:"shop_address",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_phone",children:"Shop Phone"}),e.jsx(s,{name:"shop_phone",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"shop_phone",type:"number",placeholder:"Enter shop phone"}),e.jsx(r,{name:"shop_phone",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_email",children:"Shop Email"}),e.jsx(s,{name:"shop_email",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"shop_email",type:"email",placeholder:"Enter shop email"}),e.jsx(r,{name:"shop_email",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Is Supplier"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4 ",children:[e.jsx(s,{name:"is_supplier",type:"radio",value:"1",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," Yes"]}),e.jsxs("label",{children:[e.jsx(s,{name:"is_supplier",type:"radio",value:"0",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," No"]})]}),e.jsx(r,{name:"is_supplier",component:"div",className:"text-red-500 text-xs mt-1"})]}),a.is_supplier==="1"&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_name",children:["Supplier Invoice No (Existing)    ",e.jsx("button",{type:"button",onClick:()=>{Q(!j),c("supplier_invoice_no","")},className:"text-black text-sm underline hover:text-gray-700",children:j?"Remember!":"Not remember?"})]}),j?e.jsxs(e.Fragment,{children:[e.jsxs("select",{onChange:l=>{c("supplier_invoice_no",""),U(l.target.value),i.get(route("product.create"),{supplier_id:l.target.value},{preserveState:!0,preserveScroll:!0})},className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"supplier_invoice_no",children:[e.jsx("option",{value:"",children:"Select supplier"}),R.map(l=>e.jsx("option",{value:l.id,children:l.person_name+" - "+l.code+" - "+l.contact},l.id))]}),_.length>0&&e.jsxs(s,{as:"select",name:"supplier_invoice_no",className:"mt-2 appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"supplier_invoice_no",children:[e.jsx("option",{value:"",children:"Select supplier invoice no"}),_.map(l=>e.jsx("option",{value:l.invoice_no,children:l.invoice_no},l.id))]})]}):e.jsx(s,{name:"supplier_invoice_no",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"supplier_invoice_no",type:"text",placeholder:"Enter supplier invoice no"}),e.jsx(r,{name:"supplier_invoice_no",component:"div",className:"text-red-500 text-xs mt-1"}),e.jsxs("div",{className:"flex items-center justify-start gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-black text-sm underline hover:text-gray-700",children:"Create a new invoice"}),e.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-black text-sm underline hover:text-gray-700",children:"Create a new supplier"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Other Details (optional)"}),e.jsx(H,{name:"customfield",children:({push:l,remove:x})=>e.jsxs("div",{children:[a.customfield&&a.customfield.length>0?a.customfield.map((re,d)=>e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(s,{name:`customfield.${d}.name`,className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter field name"}),e.jsx(r,{name:`customfield.${d}.name`,component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(s,{name:`customfield.${d}.value`,className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter field value"}),e.jsx(r,{name:`customfield.${d}.value`,component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx("button",{type:"button",onClick:()=>x(d),className:"text-red-500 text-sm underline hover:text-red-700",children:"Remove"})})]},d)):e.jsx("p",{className:"text-gray-500 text-sm",children:"No custom fields added."}),e.jsx("button",{type:"button",onClick:()=>l({name:"",value:""}),className:"mt-2 text-black text-sm underline hover:text-gray-700",children:"Add Field"})]})}),e.jsx(r,{name:"customfield",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-start gap-1 mt-8",children:[e.jsx("button",{className:"bg-black hover:bg-blue-dark text-white font-bold py-2 px-4 rounded-lg",type:"submit",children:"Save"}),e.jsx("button",{onClick:()=>i.get(route("product.index")),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})]})]})})})})})})})})}),e.jsx(y,{show:z,onClose:()=>p(!1),children:e.jsxs("div",{className:"overflow-y-auto max-h-[80vh]",children:[e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"text-2xl font-medium text-[#5d596c] ",children:"Create New Supplier"})}),e.jsx("div",{className:"px-10 mb-5",children:e.jsx(g,{enableReinitialize:!0,initialValues:{person_name:"",email:"",contact:"",address:"",code:""},validationSchema:v({person_name:t().required("Name is required"),email:t().email("Invalid email address"),contact:t().required("Contact is required"),address:t(),code:t().required("Code is required")}),onSubmit:(a,{setSubmitting:n})=>{i.post(route("supplier.store"),a,{onSuccess:()=>{p(!1)},preserveScroll:!0,preserveState:!0})},children:({isSubmitting:a,values:n,errors:u,setFieldValue:c})=>{const h=()=>{i.get(route("product.create"),{code:!0},{onSuccess:l=>{c("code",l.props.code)},preserveScroll:!0,preserveState:!0})};return e.jsxs(N,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_name",children:"Supplier Name"}),e.jsx(s,{name:"person_name",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier name"}),e.jsx(r,{name:"person_name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_address",children:"Supplier Address"}),e.jsx(s,{name:"address",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier address"}),e.jsx(r,{name:"address",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_contact",children:"Supplier Contact"}),e.jsx(s,{name:"contact",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"number",placeholder:"Enter supplier contact"}),e.jsx(r,{name:"contact",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_email",children:"Supplier Email"}),e.jsx(s,{name:"email",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"email",placeholder:"Enter supplier email"}),e.jsx(r,{name:"email",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_code",children:"Supplier Code"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(s,{name:"code",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier code"}),e.jsx(F,{onClick:()=>h(),size:40,color:"black"})]}),e.jsx(r,{name:"code",component:"div",className:"text-red-500 text-xs mt-1"}),n.code!==""&&e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(n.code),P.success("Copied to clipboard")},className:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mt-2",children:"Copy"})]}),e.jsxs("div",{className:"flex items-center justify-start gap-1 mt-8",children:[e.jsx("button",{className:"bg-black hover:bg-blue-dark text-white font-bold py-2 px-4 rounded-lg",type:"submit",children:"Submit"}),e.jsx("button",{onClick:()=>p(!1),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})]})]})}})})]})}),e.jsx(y,{show:O,onClose:()=>b(!1),children:e.jsxs("div",{className:"overflow-y-auto max-h-[80vh]",children:[e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"text-2xl font-medium text-[#5d596c] ",children:"Create New Invoice"})}),e.jsx("div",{className:"px-10 mb-5",children:e.jsx(g,{enableReinitialize:!0,initialValues:{supplier_code:"",invoice_no:"",invoice_date:"",due_date:"",total_payment:"",status:"",method:"",cheque_no:"",cheque_date:"",bank_name:"",bank_branch:"",bank_account:"",online_payment_link:"",payment_proof:"",note:""},validationSchema:v({supplier_code:t().required("Supplier Code is required"),invoice_no:t().required("Invoice No is required"),invoice_date:E().required("Invoice Date is required"),due_date:E().required("Due Date is required"),total_payment:m().required("Total Pending Payment is required"),status:t().required("Status is required"),method:t().required("Method is required"),cheque_no:t().when("method",{is:"cheque",then:a=>a.required("Cheque No is required"),otherwise:a=>a.optional()}),cheque_date:t().when("method",{is:"cheque",then:a=>a.required("Cheque Date is required"),otherwise:a=>a.optional()}),bank_name:t(),bank_branch:t(),bank_account:t(),online_payment_link:t().url("Must be a valid URL"),payment_proof:t(),note:t()}),onSubmit:(a,{setSubmitting:n})=>{i.post(route("supplier-invoice.store"),a,{onSuccess:()=>{b(!1)},preserveScroll:!0,preserveState:!0})},children:({isSubmitting:a,values:n,errors:u,setFieldValue:c})=>{const h=()=>{i.get(route("product.create"),{invoicecode:!0},{onSuccess:l=>{c("invoice_no",l.props.invoicecode)},preserveScroll:!0,preserveState:!0})};return e.jsxs(N,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",children:"Supplier Code"}),e.jsx(s,{name:"supplier_code",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier code"}),e.jsx(r,{name:"supplier_code",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Invoice No"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(s,{name:"invoice_no",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter invoice no"}),e.jsx(F,{onClick:()=>h(),size:40,color:"black"})]}),e.jsx(r,{name:"invoice_no",component:"div",className:"text-red-500 text-xs mt-1"}),n.invoice_no!==""&&e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(n.invoice_no),P.success("Copied to clipboard")},className:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mt-2",children:"Copy"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Invoice Date"}),e.jsx(s,{name:"invoice_date",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"date"}),e.jsx(r,{name:"invoice_date",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Due Date"}),e.jsx(s,{name:"due_date",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"date"}),e.jsx(r,{name:"due_date",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Total Payment"}),e.jsx(s,{name:"total_payment",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"number",placeholder:"Enter total payment"}),e.jsx(r,{name:"total_payment",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Payment Status"}),e.jsxs(s,{as:"select",name:"status",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"})]}),e.jsx(r,{name:"status",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Payment Method"}),e.jsxs(s,{as:"select",name:"method",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",children:[e.jsx("option",{value:"",children:"Select method"}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"cheque",children:"Cheque"}),e.jsx("option",{value:"bank",children:"Bank"}),e.jsx("option",{value:"online",children:"Online"})]}),e.jsx(r,{name:"method",component:"div",className:"text-red-500 text-xs mt-1"})]}),n.method==="cheque"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Cheque No"}),e.jsx(s,{name:"cheque_no",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter cheque no"}),e.jsx(r,{name:"cheque_no",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Cheque Date"}),e.jsx(s,{name:"cheque_date",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"date"}),e.jsx(r,{name:"cheque_date",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),n.method==="bank"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Bank Name (optional)"}),e.jsx(s,{name:"bank_name",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter bank name"}),e.jsx(r,{name:"bank_name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Brank Brank (optional)"}),e.jsx(s,{name:"bank_branch",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter bank branch"}),e.jsx(r,{name:"bank_branch",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Bank Account No (optional)"}),e.jsx(s,{name:"bank_account",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter bank account no"}),e.jsx(r,{name:"bank_account",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),n.method==="online"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Online payment link (optional)"}),e.jsx(s,{name:"online_payment_link",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"url",placeholder:"Enter online payment link"}),e.jsx(r,{name:"online_payment_link",component:"div",className:"text-red-500 text-xs mt-1"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Note (optional)"}),e.jsx(s,{name:"note",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",as:"textarea",placeholder:"Enter note"}),e.jsx(r,{name:"note",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-start gap-1 mt-8",children:[e.jsx("button",{className:"bg-black hover:bg-blue-dark text-white font-bold py-2 px-4 rounded-lg",type:"submit",children:"Submit"}),e.jsx("button",{onClick:()=>b(!1),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})]})]})}})})]})}),e.jsx(y,{show:W,onClose:()=>k(!1),children:e.jsxs("div",{className:"overflow-y-auto max-h-[80vh]",children:[e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"text-2xl font-medium text-[#5d596c] ",children:"Create Category"})}),e.jsx("div",{className:"px-10 mb-5",children:e.jsx(Z,{categories:T,cancelBtnAccToModel:!0,cancelOnClick:()=>k(!1)})})]})}),e.jsx(y,{show:Y,onClose:()=>f(!1),children:e.jsxs("div",{className:"overflow-y-auto max-h-[80vh]",children:[e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"text-2xl font-medium text-[#5d596c] ",children:"Create Brand"})}),e.jsx("div",{className:"px-10 mb-5",children:e.jsx(V,{cancelBtnAccToModel:!0,cancelOnClick:()=>f(!1)})})]})})]})}export{ge as default};
