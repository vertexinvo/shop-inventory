import{r as x,j as e,Y as m,y as o}from"./app-CcUcukaI.js";import{F as p,a as f,b}from"./formik.esm-5obkqTDC.js";import{G as g,A as j,M as w}from"./AuthenticatedLayout-B3XvAxHw.js";import{S as y}from"./index-CL3blqvw.js";import"./transition-D4cv6Hoi.js";import"./ReactToastify-yO1aRBQE.js";import"./Modal-ByOfUvXK.js";function L(d){return g({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 6 3 L 6 29 L 26 29 L 26 9.5996094 L 25.699219 9.3007812 L 19.699219 3.3007812 L 19.400391 3 L 6 3 z M 8 5 L 18 5 L 18 11 L 24 11 L 24 27 L 8 27 L 8 5 z M 20 6.4003906 L 22.599609 9 L 20 9 L 20 6.4003906 z M 10 13 L 10 15 L 22 15 L 22 13 L 10 13 z M 10 18 L 10 20 L 17 20 L 17 18 L 10 18 z M 19 18 L 19 20 L 22 20 L 22 18 L 19 18 z M 10 22 L 10 24 L 17 24 L 17 22 L 10 22 z M 19 22 L 19 24 L 22 24 L 22 22 L 19 22 z"},child:[]}]})(d)}function D(d){const[v,N]=x.useState(null),{auth:u,sales:t}=d,[k,S]=x.useState(!1),[M,I]=x.useState([]);return e.jsxs(j,{user:u.user,header:e.jsxs(e.Fragment,{children:[e.jsx(w,{size:20,className:"mr-2 cursor-pointer",onClick:()=>o.get(route("dashboard")),title:"Back"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Sales Ledger"})]}),children:[e.jsx(m,{title:"Sales Ledger"}),e.jsx("div",{className:"flex flex-col px-5  mt-10 mx-auto w-full",children:e.jsxs("div",{className:"w-full ",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-end items-center mt-2 mb-4",children:e.jsx("div",{className:"flex flex-col md:flex-row w-full md:justify-end space-y-2 md:space-y-0 md:space-x-2",children:e.jsx(p,{enableReinitialize:!0,initialValues:{search:""},onSubmit:s=>{o.get(route("ledger.sales"),{search:s.search},{preserveState:!0})},children:({values:s,setFieldValue:n,handleSubmit:l,errors:a,touched:c})=>e.jsxs(f,{className:"flex flex-col md:flex-row w-full md:space-x-2 space-y-2 md:space-y-0",children:[e.jsxs("div",{className:"relative w-full md:w-auto",children:[e.jsx(b,{name:"search",type:"text",placeholder:"Search...",className:"py-2 px-4 md:p-5  lg:p-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-black focus:border-black w-full"}),e.jsx("button",{type:"button",onClick:()=>{n("search",""),o.get(route("ledger.sales"))},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:"âœ–"})]}),e.jsx("button",{type:"submit",className:"text-white py-2 px-4 rounded-lg bg-black hover:bg-gray-600 w-full md:w-auto",children:"Search"}),e.jsx("a",{href:route("ledger.sales.csvexport"),className:"group relative flex items-center justify-center p-0.5 text-center font-medium transition-all focus:z-10 focus:outline-none border border-transparent bg-cyan-700 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-cyan-800 dark:bg-cyan-600 dark:focus:ring-cyan-800 dark:enabled:hover:bg-cyan-700 rounded-lg",children:e.jsxs("span",{className:"flex items-center transition-all duration-200 rounded-md px-4 py-2 text-sm",children:[e.jsx(y,{className:"mr-2 h-5 w-5"}),"Export CSV File"]})})]})})})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx("div",{class:"font-[sans-serif] overflow-x-auto",children:e.jsxs("table",{class:"min-w-full bg-white",children:[e.jsx("thead",{class:"whitespace-nowrap",children:e.jsxs("tr",{className:"text-xs font-semibold tracking-wide text-left text-white uppercase border-b bg-black",children:[e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"User ID"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Person Info"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Contact"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Address"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Total Orders"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Total Amount"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Total Amount Paid"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Total Amount Pending"}),e.jsx("th",{class:"p-4 text-left text-sm font-semibold ",children:"Action"})]})}),e.jsxs("tbody",{class:"whitespace-nowrap",children:[t.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-4 text-center",children:"No data available"})}):null,t.data.map((s,n)=>e.jsxs("tr",{class:"odd:bg-gray-50 border-b border-gray-300",children:[e.jsx("td",{class:"p-4 text-sm",children:s.code||s.id}),e.jsx("td",{class:"p-4 text-sm",children:e.jsx("div",{class:"flex items-center cursor-pointer w-max",children:e.jsxs("div",{class:"ml-4 ",children:["    ",e.jsxs("p",{class:"text-sm text-black ",children:["Person Name :  ",s.name||"N/A"]}),s.email&&e.jsxs("p",{class:"text-xs text-gray-500 mt-0.5",children:["Email :",s.email||"N/A"]})]})})}),e.jsx("td",{class:"p-4 text-sm",children:s.phone||"N/A"}),e.jsx("td",{class:"p-4 text-sm",children:s.address||"N/A"}),e.jsx("td",{class:"p-4 text-sm",children:s.total_orders||0}),e.jsx("td",{class:"p-4 text-sm",children:s.total_orders_amount||0}),e.jsx("td",{class:"p-4 text-sm",children:s.total_orders_amount_paid||0}),e.jsx("td",{class:"p-4 text-sm",children:s.total_order_amount_pending||0}),e.jsx("td",{class:"p-4 flex items-center gap-2",children:e.jsxs("button",{onClick:()=>o.get(route("ledger.customers.salesLedger",s.code||s.id)),className:"mr-4 flex items-center space-x-2 bg-blue-500 text-white rounded px-4 py-1",title:"View Invoice",children:[e.jsx(L,{className:"w-6 fill-black ",size:25}),e.jsx("span",{className:"text-white hover:text-black",children:"Ledger"})]})})]}))]})]})}),e.jsxs("div",{class:"grid px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase border-t dark:border-gray-700 bg-gray-50 sm:grid-cols-9    ",children:[e.jsxs("span",{class:"flex items-center col-span-3",children:[" Showing",t.from," - ",t.to," of ",t.total]}),e.jsx("span",{class:"col-span-2"}),e.jsx("span",{class:"flex col-span-4 mt-2 sm:mt-auto sm:justify-end",children:e.jsx("nav",{"aria-label":"Table navigation",children:e.jsxs("ul",{class:"inline-flex items-center",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>t.links[0].url?o.get(t.links[0].url):null,class:"px-3 py-1 rounded-md rounded-l-lg focus:outline-none focus:shadow-outline-purple","aria-label":"Previous",children:e.jsx("svg",{"aria-hidden":"true",class:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd","fill-rule":"evenodd"})})})}),(()=>{let s=-1;const n=t.links.findIndex(l=>l.active);return t.links.slice(1,-1).filter((l,a,c)=>{const r=parseInt(l.label,10);if(isNaN(r))return!0;const i=Math.max(0,n-2),h=Math.min(c.length-1,n+2);return a<3||a>c.length-4||a>=i&&a<=h}).map((l,a,c)=>{const r=parseInt(l.label,10),i=!isNaN(r)&&s!==-1&&r-s>1;return isNaN(r)||(s=r),e.jsx("li",{children:i?e.jsx("span",{className:"px-3 py-1",children:"..."}):l.active?e.jsx("button",{className:"px-3 py-1 text-white dark:text-gray-800 transition-colors duration-150 bg-black dark:bg-gray-100 border border-r-0 border-black dark:border-gray-100 rounded-md focus:outline-none focus:shadow-outline-purple","aria-current":"page",children:l.label}):e.jsx("button",{onClick:()=>l.url&&window.location.assign(l.url),className:"px-3 py-1 rounded-md focus:outline-none focus:shadow-outline-purple",children:l.label})},a)})})(),e.jsx("li",{children:e.jsx("button",{onClick:()=>t.links[t.links.length-1].url&&window.location.assign(t.links[t.links.length-1].url),class:"px-3 py-1 rounded-md rounded-r-lg focus:outline-none focus:shadow-outline-purple","aria-label":"Next",children:e.jsx("svg",{class:"w-4 h-4 fill-current","aria-hidden":"true",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd","fill-rule":"evenodd"})})})})]})})})]})]})]})})]})}export{D as default};
