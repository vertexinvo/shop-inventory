import{r as m,j as e,Y as h,y as r}from"./app-CipIDdgG.js";import{F as u,a as p,b as g}from"./formik.esm-Bm6IeBKa.js";import{A as j,c as b,d as y}from"./AuthenticatedLayout-Be8Z0_vS.js";import{a as f}from"./index-CCR5mdG2.js";import"./transition-BtNRRUSS.js";import"./ReactToastify-DP871INA.js";import"./Modal-teVpjOh-.js";import"./proxy-CFmnUv9r.js";function L({auth:c,sales:a}){const[N,v]=m.useState([]),d=s=>{r.get(route("ledger.sales"),{search:s.search},{preserveState:!0})},n=s=>{s("search",""),r.get(route("ledger.sales"))},i=s=>{r.get(route("ledger.customers.salesLedger",s))};return e.jsxs(j,{user:c.user,header:e.jsxs("a",{href:route("ledger.sales.csvexport"),className:"group relative flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-cyan-700 hover:bg-cyan-800 rounded-lg focus:ring-4 focus:ring-cyan-300",children:[e.jsx(f,{className:"mr-2 w-5 h-5"})," Export CSV File"]}),children:[e.jsx(h,{title:"Sales Ledger"}),e.jsxs("div",{className:"flex flex-col px-5 mt-4 mx-auto w-full",children:[e.jsx("div",{className:"flex justify-start items-center mb-4",children:e.jsx(u,{initialValues:{search:""},onSubmit:d,children:({values:s,setFieldValue:t,handleSubmit:l})=>e.jsx(p,{className:"w-full max-w-md",children:e.jsx("div",{className:"relative",children:e.jsx(g,{name:"search",children:({field:o})=>e.jsxs(e.Fragment,{children:[e.jsx("input",{...o,type:"text",placeholder:"Search...",className:"w-full pl-10 pr-10 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 shadow-sm hover:shadow-md",onKeyDown:x=>x.key==="Enter"&&l()}),e.jsx("button",{type:"submit",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-cyan-500","aria-label":"Search",children:e.jsx(b,{className:"w-4 h-4"})}),o.value&&e.jsx("button",{type:"button",onClick:()=>n(t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-red-500","aria-label":"Clear search",children:e.jsx(y,{className:"w-4 h-4"})})]})})})})})}),e.jsxs("div",{className:"overflow-x-auto rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 bg-white",children:[e.jsx("thead",{className:"text-xs uppercase bg-gray-200 text-gray-700",children:e.jsx("tr",{children:["User ID","Person Info","Contact","Address","Total Orders","Total Amount","Total Amount Paid","Total Amount Pending","Action"].map((s,t)=>e.jsx("th",{className:"p-4 text-left text-sm font-semibold",children:s},t))})}),e.jsx("tbody",{children:a.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"p-4 text-center",children:"No data available"})}):a.data.map(s=>e.jsxs("tr",{className:"odd:bg-gray-50 border-b",children:[e.jsx("td",{className:"p-4 text-sm",children:s.code||s.id}),e.jsxs("td",{className:"p-4 text-sm",children:[e.jsxs("p",{className:"text-sm text-black",children:["Person Name: ",s.name||"N/A"]}),s.email&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Email: ",s.email]})]}),e.jsx("td",{className:"p-4 text-sm",children:s.phone||"N/A"}),e.jsx("td",{className:"p-4 text-sm",children:s.address||"N/A"}),e.jsx("td",{className:"p-4 text-sm",children:s.total_orders||0}),e.jsx("td",{className:"p-4 text-sm",children:s.total_orders_amount||0}),e.jsx("td",{className:"p-4 text-sm",children:s.total_orders_amount_paid||0}),e.jsx("td",{className:"p-4 text-sm",children:s.total_order_amount_pending||0}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>i(s.code||s.id),className:"px-3 py-1 text-xs font-semibold text-white bg-black rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-cyan-500",children:"Ledger"})})]},s.id||s.code))})]}),e.jsxs("div",{className:"px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 bg-gray-50 border-t flex flex-wrap items-center justify-between",children:[e.jsxs("span",{children:["Showing ",a.from," - ",a.to," of ",a.total]}),e.jsx("nav",{"aria-label":"Pagination",children:e.jsx("ul",{className:"inline-flex items-center gap-1",children:a.links.map((s,t)=>{const l=s.label.replace(/&laquo;|&raquo;/g,"").trim();return e.jsx("li",{children:e.jsx("button",{onClick:()=>s.url&&r.visit(s.url),disabled:!s.url,className:`px-3 py-1 rounded-md ${s.active?"bg-black text-white":"hover:bg-gray-200"} ${!s.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:l}})},t)})})})]})]})]})]})}export{L as default};
