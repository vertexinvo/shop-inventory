import{r as m,q as S,j as e,Y as q,y as C}from"./app-DhNW9LHY.js";import{F as E,a as I,b as r,E as t,c as M}from"./formik.esm-C8Na2obn.js";import{A as F,Q as O,M as $}from"./AuthenticatedLayout-CcpGEObL.js";import{c as P,b as x,a as l}from"./index.esm-DvziDB1-.js";import{S as h}from"./react-select.esm-Da4WDy5_.js";import{R as y}from"./index-CaJQZ_Gp.js";/* empty css                   */import"./ReactToastify-CS7rjRl8.js";/* empty css                */import"./transition-3pnCqv76.js";import"./index-CmLoYHl9.js";import"./Modal-Cm5ZA5ZH.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";function de(u){var b;const{auth:g,categories:j,brands:f,code:B,invoicecode:A,product:s,selectedCategories:N,selectedBrands:k,categories_object_model:R}=u,[W,_]=m.useState(!1),[D,v]=m.useState(!1),[T,Y]=m.useState(!1),[Q,z]=m.useState(!1),w=S().props.setting,p={control:(a,o)=>({...a,borderColor:o.isFocused?"black":a.borderColor,boxShadow:o.isFocused?"0 0 0 1px black":a.boxShadow,"&:hover":{borderColor:o.isFocused?"black":a.borderColor}})};return e.jsxs(F,{Product:g.Product,header:e.jsxs(e.Fragment,{children:[e.jsx($,{size:20,className:"mr-2 cursor-pointer",onClick:()=>window.history.back(),title:"Back"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:s.code||s.id})]}),children:[e.jsx(q,{title:"Purchase"}),e.jsx("div",{className:"flex flex-col px-4  mt-10 mx-auto w-full",children:e.jsx("div",{className:"w-full ",children:e.jsx("div",{className:"font-sans antialiased bg-grey-lightest",children:e.jsx("div",{className:"w-full bg-grey-lightest",children:e.jsx("div",{className:"container mx-auto py-3 px-5",children:e.jsx("div",{className:"w-full lg:w-full mx-auto bg-white rounded shadow",children:e.jsx(E,{enableReinitialize:!0,initialValues:{name:(s==null?void 0:s.name)||"",model:(s==null?void 0:s.model)||"",specifications:(s==null?void 0:s.specifications)||"",purchase_price:(s==null?void 0:s.purchase_price)||"",selling_price:(s==null?void 0:s.selling_price)||"",warranty_period:(s==null?void 0:s.warranty_period)||"",is_borrow:s!=null&&s.is_borrow?"1":"0",shop_name:(s==null?void 0:s.shop_name)||"",shop_address:(s==null?void 0:s.shop_address)||"",shop_phone:(s==null?void 0:s.shop_phone)||"",shop_email:(s==null?void 0:s.shop_email)||"",identity_type:(s==null?void 0:s.identity_type)||"none",identity_value:(s==null?void 0:s.identity_value)||"",warranty_type:(s==null?void 0:s.warranty_type)||"none",is_warranty:s!=null&&s.is_warranty?"1":"0",categories:N||[],brands:k||[],quantity:((b=s==null?void 0:s.stock)==null?void 0:b.quantity)||0,description:(s==null?void 0:s.description)||"",supplier_invoice_no:(s==null?void 0:s.supplier_invoice_no)||"",weight:(s==null?void 0:s.weight)||"",is_supplier:s!=null&&s.is_supplier?"1":"0",customfield:JSON.parse(s==null?void 0:s.customfield)||[],type:(s==null?void 0:s.type)||"new",image_url:(s==null?void 0:s.image_url)||""},validationSchema:P({name:l().required("Name is required"),model:l(),specifications:l(),purchase_price:x().required("Purchase price is required"),selling_price:x().required("Selling price is required"),type:l().required("Type is required"),weight:x(),is_supplier:l().required("Is supplier is required"),supplier_invoice_no:l().when("is_supplier",{is:"1",then:a=>a.required(),otherwise:a=>a.optional()}),is_borrow:l().required("Is borrow is required"),shop_name:l(),shop_address:l(),shop_phone:l(),description:l(),shop_email:l().email("Invalid email address"),identity_type:l().required("Identity type is required"),identity_value:l().when("identity_type",{is:"none",then:a=>a.optional(),otherwise:a=>a.required()}),is_warranty:l().required("Is warranty is required"),warranty_type:l().when("is_warranty",{is:"1",then:a=>a.required().notOneOf(["none"],'Warranty type cannot be "none"'),otherwise:a=>a.optional()}),warranty_period:x().when("is_warranty",{is:"1",then:a=>a.required(),otherwise:a=>a.optional()})}),children:({values:a,errors:o,touched:U,setFieldValue:c,isSubmitting:J})=>e.jsx(I,{children:e.jsxs("div",{className:"py-4 px-8",children:[a.image_url&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"type",children:"Image "}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"w-1/2 mr-1",children:e.jsx("img",{src:a.image_url,height:200,width:200,className:"object-cover border border-gray-300 rounded-lg",alt:"product"})})})]}),e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"first_name",children:"Name"}),e.jsx(r,{readOnly:!0,name:"name",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",id:"name",type:"text",placeholder:"Enter name"}),e.jsx(t,{name:"name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"first_name",children:"Model  (optional)"}),e.jsx(r,{readOnly:!0,name:"model",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",id:"model",type:"text",placeholder:"Enter model"}),e.jsx(t,{name:"model",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"specifications",children:"Specifications  (optional)"}),e.jsx(y,{readOnly:!0,theme:"snow",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",value:a.specifications,onChange:i=>c("specifications",i)}),e.jsx(t,{name:"specifications",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"specifications",children:"Description  (optional)"}),e.jsx(y,{readOnly:!0,theme:"snow",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",value:a.description,onChange:i=>c("description",i)}),e.jsx(t,{name:"description",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"purchase_price",children:"Purchase Price"}),e.jsx(r,{readOnly:!0,name:"purchase_price",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",id:"purchase_price",type:"number",step:"0.01",placeholder:"Enter purchase price"}),e.jsx(t,{name:"purchase_price",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Selling Price"}),e.jsx(r,{readOnly:!0,name:"selling_price",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",id:"selling_price",type:"number",step:"0.01",placeholder:"Enter selling price"}),e.jsx(t,{name:"selling_price",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Quantity"}),e.jsx(r,{name:"quantity",disabled:!0,className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",id:"quantity",type:"number",min:"1",placeholder:"Enter quantity"}),e.jsx(t,{name:"quantity",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Weight - (kg) (optional)"}),e.jsx(r,{readOnly:!0,name:"weight",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker bg-gray-100 cursor-not-allowed",id:"weight",type:"number",step:"0.01",placeholder:"Enter weight"}),e.jsx(t,{name:"weight",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-center justify-start gap-2 mt-2 mb-2",children:e.jsx("label",{className:"block   text-grey-darker text-sm font-bold ",for:"categories",children:"Select Category (optional)"})}),e.jsx(h,{onChange:i=>{c("categories",i.map(d=>d.value))},isMulti:!0,name:"categories",options:j,className:"basic-multi-select",classNamePrefix:"select",defaultValue:a.categories,styles:p,isDisabled:!0}),e.jsx(t,{name:"categories",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-center justify-start gap-2 mt-2 mb-2",children:e.jsx("label",{className:"block text-grey-darker text-sm font-bold ",for:"brands",children:"Select Brand  (optional)"})}),e.jsx(h,{onChange:i=>{c("brands",i.map(d=>d.value))},isMulti:!0,name:"brands",options:f,className:"basic-multi-select",classNamePrefix:"select",defaultValue:a.brands,styles:p,isDisabled:!0}),e.jsx(t,{name:"brands",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"type",children:"Type "}),e.jsxs(r,{disabled:!0,name:"type",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"type",as:"select",children:[e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"used",children:"Used"})]}),e.jsx(t,{name:"type",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Identity Type"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 w-1/2",children:[e.jsxs("div",{children:[e.jsx(r,{className:"hidden",id:"radio_1",value:"none",type:"radio",name:"identity_type",disabled:!0}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="none"?"border-blue-500":"border-gray-400"}`,htmlFor:"radio_1",children:e.jsx("span",{className:"readonly text-xs font-semibold uppercase",children:"None"})})]}),e.jsxs("div",{children:[e.jsx(r,{className:"hidden",id:"radio_2",value:"imei",type:"radio",name:"identity_type",disabled:!0}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="imei"?"border-black":"border-gray-400"}`,htmlFor:"radio_2",children:e.jsx("span",{className:"text-xs font-semibold uppercase",children:"Imei"})})]}),e.jsxs("div",{children:[e.jsx(r,{className:"hidden",id:"radio_3",value:"sku",type:"radio",name:"identity_type",disabled:!0}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="sku"?"border-black":"border-gray-400"}`,htmlFor:"radio_3",children:e.jsx("span",{className:"text-xs font-semibold uppercase",children:"Sku"})})]}),e.jsxs("div",{children:[e.jsx(r,{className:"hidden",id:"radio_4",value:"serial",type:"radio",name:"identity_type",disabled:!0}),e.jsx("label",{className:`flex flex-col p-4 border-2 cursor-pointer ${a.identity_type==="serial"?"border-black":"border-gray-400"}`,htmlFor:"radio_4",children:e.jsx("span",{className:"text-xs font-semibold uppercase",children:"Serial"})})]})]})]}),a.identity_type!=="none"&&e.jsxs("div",{className:" mr-1 mb-4 ",children:[e.jsxs("label",{className:"block text-grey-darker text-sm  mb-2",for:"warranty_period",children:[a.identity_type.charAt(0).toUpperCase()+a.identity_type.slice(1)," "]}),e.jsx(r,{disabled:!0,name:"identity_value",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",type:"text",placeholder:"Enter "+a.identity_type.charAt(0).toUpperCase()+a.identity_type.slice(1)}),e.jsx(t,{name:"identity_value",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Is Warranty"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4",children:[e.jsx(r,{disabled:!0,name:"is_warranty",type:"radio",value:"1",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," Yes"]}),e.jsxs("label",{children:[e.jsx(r,{disabled:!0,name:"is_warranty",type:"radio",value:"0",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," No"]})]}),e.jsx(t,{name:"is_warranty",component:"div",className:"text-red-500 text-xs mt-1"})]}),a.is_warranty==="1"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"warranty_period",children:"Warranty Type "}),e.jsxs(r,{disabled:!0,name:"warranty_type",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"warranty_type",as:"select",children:[e.jsx("option",{value:"",children:"Select Warranty Type"}),e.jsx("option",{value:"years",children:"Year"}),e.jsx("option",{value:"months",children:"Month"}),e.jsx("option",{value:"days",children:"Day"})]}),e.jsx(t,{name:"warranty_type",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"warranty_period",children:"Warranty Period "}),e.jsx(r,{disabled:!0,name:"warranty_period",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"warranty_period",type:"number",step:"1",placeholder:"Enter warranty period"}),e.jsx(t,{name:"warranty_period",component:"div",className:"text-red-500 text-xs mt-1"})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Is Borrow"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4",children:[e.jsx(r,{disabled:!0,name:"is_borrow",type:"radio",value:"1",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," Yes"]}),e.jsxs("label",{children:[e.jsx(r,{disabled:!0,name:"is_borrow",type:"radio",value:"0",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," No"]})]}),e.jsx(t,{name:"is_borrow",component:"div",className:"text-red-500 text-xs mt-1"})]}),a.is_borrow==="1"&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"block text-grey-darker text-sm my-2 text-red-500",for:"shop_name",children:"Fill atleast one"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_name",children:"Shop Name"}),e.jsx(r,{disabled:!0,name:"shop_name",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"shop_name",type:"text",placeholder:"Enter shop name"}),e.jsx(t,{name:"shop_name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_address",children:"Shop Address"}),e.jsx(r,{disabled:!0,as:"textarea",name:"shop_address",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"shop_address",rows:"3",placeholder:"Enter shop address"}),e.jsx(t,{name:"shop_address",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_phone",children:"Shop Phone"}),e.jsx(r,{disabled:!0,name:"shop_phone",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"shop_phone",type:"number",placeholder:"Enter purchase price"}),e.jsx(t,{name:"shop_phone",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_email",children:"Shop Email"}),e.jsx(r,{disabled:!0,name:"shop_email",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"shop_email",type:"email",placeholder:"Enter shop email"}),e.jsx(t,{name:"shop_email",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",children:"Is Supplier"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4",children:[e.jsx(r,{disabled:!0,name:"is_supplier",type:"radio",value:"1",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," Yes"]}),e.jsxs("label",{children:[e.jsx(r,{disabled:!0,name:"is_supplier",type:"radio",value:"0",className:"mr-2 checked:bg-black checked:hover:bg-gray-700 checked:active:bg-black checked:focus:bg-black focus:bg-black focus:outline-none focus:ring-1 focus:ring-black"})," No"]})]}),e.jsx(t,{name:"is_supplier",component:"div",className:"text-red-500 text-xs mt-1"})]}),a.is_supplier==="1"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_name",children:"Supplier Invoice No (Existing)"}),e.jsx(r,{disabled:!0,name:"supplier_invoice_no",className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"supplier_invoice_no",type:"text",placeholder:"Enter supplier invoice no"}),e.jsx(t,{name:"supplier_invoice_no",component:"div",className:"text-red-500 text-xs mt-1"}),e.jsxs("div",{className:"flex items-center justify-start gap-2 mt-2",children:[e.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-blue-500 text-sm underline hover:text-blue-700",children:"Create a new invoice"}),e.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-blue-500 text-sm underline hover:text-blue-700",children:"Create a new supplier"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",for:"selling_price",children:"Other Details (optional)"}),e.jsx(M,{name:"customfield",children:({push:i,remove:d})=>e.jsx("div",{children:a.customfield&&a.customfield.length>0?a.customfield.map((K,n)=>e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{name:`customfield.${n}.name`,className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",type:"text",placeholder:"Enter field name",disabled:!0}),e.jsx(t,{name:`customfield.${n}.name`,component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{name:`customfield.${n}.value`,className:"appearance-none border rounded w-full py-2 px-3 text-grey-darker",type:"text",placeholder:"Enter field value",disabled:!0}),e.jsx(t,{name:`customfield.${n}.value`,component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx("button",{type:"button",onClick:()=>d(n),className:"text-red-500 text-sm underline hover:text-red-700",children:"Remove"})})]},n)):e.jsx("p",{className:"text-gray-500 text-sm",children:"No custom fields added."})})}),e.jsx(t,{name:"customfield",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsx(O,{value:s.code||s.id,size:150,logoImage:w.site_favicon,logoOpacity:.8}),e.jsx("div",{className:"flex items-center justify-start gap-1 mt-8",children:e.jsx("button",{onClick:()=>C.get(route("product.index")),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})})]})})})})})})})})})]})}export{de as default};
