import{j as e,Y as p,y as n}from"./app-C-Bojjia.js";import{F as b,a as h,b as a,E as s}from"./formik.esm-Cw_6vpjF.js";import{A as j,M as f}from"./AuthenticatedLayout-clc-Svhf.js";import{c as g,b as o,a as r,d as y}from"./index.esm-DlIPwuA6.js";import"./ReactToastify-Cf6V3_D5.js";import"./transition-WkCUa5B_.js";import"./Modal-D-V14woW.js";function q(m){const{auth:N,expance:t,users:c}=m;return e.jsxs(j,{header:e.jsxs(e.Fragment,{children:[e.jsx(f,{size:20,className:"mr-2 cursor-pointer",onClick:()=>n.get(route("expense.index")),title:"Back"}),e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:[t?"Edit":"Add"," Expense"]})]}),children:[e.jsx(p,{title:"Expense"}),e.jsx("div",{className:"flex flex-col px-4  mt-10 mx-auto w-full",children:e.jsx("div",{className:"w-full ",children:e.jsx("div",{className:"font-sans antialiased bg-grey-lightest",children:e.jsx("div",{className:"w-full bg-grey-lightest",children:e.jsx("div",{className:"container mx-auto py-3 px-5",children:e.jsx("div",{className:"w-full lg:w-full mx-auto bg-white rounded shadow",children:e.jsx(b,{enableReinitialize:!0,initialValues:{name:(t==null?void 0:t.name)||"",type:(t==null?void 0:t.type)||"",datetime:(t==null?void 0:t.datetime)||"",description:(t==null?void 0:t.description)||"",amount:(t==null?void 0:t.amount)||"",status:(t==null?void 0:t.status)||"paid",pending_amount:(t==null?void 0:t.pending_amount)||0,uid:(t==null?void 0:t.uid)||""},validationSchema:g({name:r().required("Name is required"),type:r().required("Type is required"),datetime:y().nullable(),uid:r().nullable(),description:r().nullable(),amount:o().nullable().typeError("Amount must be a valid number"),status:r().oneOf(["paid","unpaid"],"Invalid status").required("Status is required"),pending_amount:o().nullable().typeError("Pending amount must be a valid number")}),onSubmit:(d,{setSubmitting:u,resetForm:i})=>{t?n.put(route("expense.update",t.id),d,{onSuccess:()=>i(),preserveScroll:!0,preserveState:!1,replace:!0}):n.post(route("expense.store"),d,{onSuccess:()=>i(),preserveScroll:!0,preserveState:!1,replace:!0})},children:({values:d,errors:u,touched:i,setFieldValue:k,isSubmitting:x})=>e.jsx(h,{children:e.jsxs("div",{className:"py-4 px-8",children:[e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"name",children:"Name"}),e.jsx(a,{name:"name",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"name",type:"text",placeholder:"Enter name"}),e.jsx(s,{name:"name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 ml-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"type",children:"Type"}),e.jsxs(a,{as:"select",name:"type",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"type",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"rent",children:"Rent"}),e.jsx("option",{value:"utilities",children:"Utilities"}),e.jsx("option",{value:"salary",children:"Salary"}),e.jsx("option",{value:"miscellaneous",children:"Miscellaneous"})]}),e.jsx(s,{name:"type",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"datetime",children:"DateTime"}),e.jsx(a,{name:"datetime",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"datetime",type:"datetime-local",placeholder:"Enter date and time"}),e.jsx(s,{name:"datetime",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 ml-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"description",children:"Description (Optional)"}),e.jsx(a,{name:"description",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"description",type:"text",placeholder:"Enter description"}),e.jsx(s,{name:"description",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"amount",children:"Amount"}),e.jsx(a,{name:"amount",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"amount",type:"number",step:"0.01",placeholder:"Enter amount"}),e.jsx(s,{name:"amount",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 ml-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"pending_amount",children:"Pending Amount (Optional)"}),e.jsx(a,{name:"pending_amount",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"pending_amount",type:"number",step:"0.01",placeholder:"Enter pending amount"}),e.jsx(s,{name:"pending_amount",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"status",children:"Status"}),e.jsxs(a,{as:"select",name:"status",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"status",children:[e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]}),e.jsx(s,{name:"status",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 ml-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"uid",children:"Select User (Optional)"}),e.jsxs(a,{as:"select",name:"uid",className:"appearance-none border rounded w-full py-2 px-3 focus:ring-black focus:border-black text-grey-darker",id:"uid",children:[e.jsx("option",{value:"",children:"Select User"}),c.map(l=>e.jsxs("option",{value:l.id,children:[" ",l.code||l.id," - ",l.name||"N/A"," - ",l.email||"N/A"," - ",l.phone||"N/A"]},l.id))]}),e.jsx(s,{name:"uid",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-start gap-1 mt-8",children:[e.jsx("button",{className:"bg-black hover:bg-blue-dark text-white font-bold py-2 px-4 rounded-lg",type:"submit",children:x?"Submitting...":"Submit"}),e.jsx("button",{onClick:()=>n.get(route("expense.index")),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})]})]})})})})})})})})})]})}export{q as default};
