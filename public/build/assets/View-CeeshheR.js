import{r as p,j as e,Y as b,y as o}from"./app-Cd5YvKF2.js";import{A as f}from"./AuthenticatedLayout-BtjskZ7W.js";import{M as y}from"./Modal-BME9uPis.js";import"./transition-BLUlTtuI.js";import"./ReactToastify-BzYKp5dE.js";import"./proxy-BmsaCjU_.js";function P(i){const{role:m,permissions:h,permissionsList:c}=i,x=c.reduce((s,t)=>{const[l,...a]=t.split(" "),r=a.join(" ");return s[r]=s[r]||[],s[r].push({action:l,permission:t}),s},{}),[n,d]=p.useState(h),u=s=>{d(t=>t.includes(s)?t.filter(l=>l!==s):[...t,s])},g=async()=>{await o.put(route("role.updatePermission",m.id),n)};return e.jsx(e.Fragment,{children:e.jsxs(f,{auth:i.auth,errors:i.errors,header:e.jsxs(e.Fragment,{children:[e.jsx(y,{size:20,className:"mr-2 cursor-pointer",onClick:()=>o.get(route("role.index")),title:"Back"}),e.jsx("div",{className:"flex flex-col px-4 ",children:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Manage Permission Role: ",m.name]})})]}),children:[e.jsx(b,{title:"Admin Dashboard"}),e.jsx("div",{className:" grid justify-center py-6 ",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 w-full ",children:[e.jsx("div",{className:"mt-4 ",children:e.jsxs("label",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",checked:c.length===n.length,onChange:s=>{d(s.target.checked?c:[])}}),e.jsx("span",{className:"ml-2",children:"Select All"})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("hr",{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(x).map(([s,t])=>s==="Exchangeitem"||s==="Item"||s==="Setting"?null:e.jsx("div",{className:"my-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[e.jsxs("h4",{className:"font-semibold capitalize flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.every(({permission:l})=>n.includes(l)),onChange:()=>{const l=t.map(({permission:r})=>r),a=l.every(r=>n.includes(r));d(r=>a?r.filter(j=>!l.includes(j)):[...r,...l])}}),e.jsx("span",{children:s})]}),t.map(({action:l,permission:a})=>e.jsxs("label",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",checked:n.includes(a),onChange:()=>u(a)}),e.jsxs("span",{className:"ml-2",children:[l," ",s]})]},a))]})},s))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 w-full sm:w-auto",children:"Save"}),e.jsx("button",{onClick:()=>o.get(route("role.index")),className:"px-4 py-2 bg-gray-500 ml-2 text-white rounded hover:bg-gray-600 w-full sm:w-auto",children:"Cancel"})]})]})})]})})}export{P as default};
