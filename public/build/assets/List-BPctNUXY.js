import{q as ie,r as c,j as e,Y as ce,a as m,y as x}from"./app-DhNW9LHY.js";import{F as oe,a as de,b as xe}from"./formik.esm-C8Na2obn.js";import{b as C,c as he,f as me,g as ge,h as S,i as ue,j as pe,e as je}from"./index-CmLoYHl9.js";import{A as ye,b as be,G as fe,D as o,g as V,C as q,Q as Ne,M as ve,d as we}from"./AuthenticatedLayout-CcpGEObL.js";import{M as F}from"./Modal-Cm5ZA5ZH.js";import{d as ke}from"./index-Dmv9elh8.js";import"./ReactContexify.min-nyogcWRI.js";import{e as Ce,f as Se,g as O,h as Fe,i as Me}from"./index-D8GFt_VK.js";import"./transition-3pnCqv76.js";import"./ReactToastify-CS7rjRl8.js";import"./index-BKNjMPK8.js";function Ke(T){const{auth:Q,stock:Ie,startdate:W,enddate:_,products:l,totalstock:U,totalstockavailable:G,totalstocknotavailable:H,totalStockValue:K,totaliteminstock:X,categories:De,brands:Pe}=T,{url:Y}=ie(),t=new URLSearchParams(Y.split("?")[1]),[M,I]=c.useState([]),[D,y]=c.useState(null),[J,b]=c.useState(!1),[g,p]=c.useState([]),[Z,P]=c.useState(!1),[ee,f]=c.useState(!1),[se,N]=c.useState(!1),[v,te]=c.useState({startDate:new Date,endDate:new Date,key:"selection"}),[$e,Ae]=c.useState(!1),[Be,Ee]=c.useState({brand:"",category:"",status:""}),ae=s=>{const a=s.target.files[0];a&&(a.type==="text/csv"||a.name.endsWith(".csv")||a.name.endsWith(".xlsx")||a.name.endsWith(".xls")?x.post(route("product.csvstore"),{file:a}):console.error("Please select a CSV file."))},[w,$]=c.useState({}),[re,A]=c.useState({}),ne=async s=>{if(M.includes(s))I(a=>a.filter(r=>r!==s));else if(I(a=>[...a,s]),!w[s]){A(a=>({...a,[s]:!0}));try{const a=await axios.get(`/dashboard/product/${s}/stock-logs`);$(r=>{var i;return{...r,[s]:((i=a.data.stocklogs)==null?void 0:i.data)||[]}})}catch(a){console.error("Error fetching stock logs:",a),$(r=>({...r,[s]:[]}))}finally{A(a=>({...a,[s]:!1}))}}},[Le,Re]=c.useState(!1);return e.jsxs(ye,{Product:Q.Product,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ve,{size:20,className:"cursor-pointer text-gray-600 hover:text-gray-800",onClick:()=>x.get(route("dashboard")),title:"Back"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Purchases"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("a",{href:route("product.csvexport"),download:!0,className:"inline-flex items-center justify-center rounded-lg border border-transparent bg-cyan-700 px-4 py-2 text-sm font-medium text-white transition hover:bg-cyan-800 focus:outline-none focus:ring-4 focus:ring-cyan-300",children:[e.jsx(we,{className:"mr-2 h-5 w-5"}),"Export CSV File"]}),e.jsx("div",{children:e.jsx("div",{children:e.jsxs("button",{className:"cursor-pointer inline-flex items-center justify-center rounded-lg border border-transparent bg-green-700 px-4 py-2 text-sm font-medium text-white transition hover:bg-green-800 focus:outline-none focus:ring-4 focus:ring-cyan-300",onClick:()=>N(!0),children:[e.jsx(V,{className:"mr-2 h-5 w-5"}),"Import CSV File"]})})})]})]}),children:[e.jsx(ce,{title:"Purchase"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-4",children:[e.jsx(m,{href:route("product.index"),children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-4 flex justify-between items-center hover:shadow-md transition",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Products"}),e.jsx("p",{className:"text-xl font-bold",children:U})]}),e.jsx(C,{size:36,className:"text-blue-500"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Items in Stock"}),e.jsx("p",{className:"text-xl font-bold",children:X})]}),e.jsx(C,{size:36,className:"text-green-500"})]}),e.jsx(m,{href:route("product.index",{status:0}),children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-4 flex justify-between items-center hover:shadow-md transition",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Out of Stock"}),e.jsx("p",{className:"text-xl font-bold",children:H})]}),e.jsx(be,{size:36,className:"text-red-500"})]})}),e.jsx(m,{href:route("product.index",{status:1}),children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-4 flex justify-between items-center hover:shadow-md transition",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"In Stock"}),e.jsx("p",{className:"text-xl font-bold",children:G})]}),e.jsx(he,{size:36,className:"text-green-600"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Stock Value"}),e.jsx("p",{className:"text-xl font-bold text-emerald-600",children:K})]}),e.jsx(fe,{size:36,className:"text-yellow-500"})]})]}),e.jsx("div",{className:"flex flex-col px-4 mx-auto w-full",children:e.jsx("div",{className:"w-full ",children:e.jsxs("div",{className:"p-6 bg-gray-50 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[e.jsx(oe,{enableReinitialize:!0,initialValues:{search:t.get("search")||""},onSubmit:s=>{x.get(route("product.index"),{search:s.search,status:t.get("status"),brand:t.get("brand"),category:t.get("category"),startdate:W,enddate:_,supplierinvoiceno:t.get("supplierinvoiceno"),invoicecode:t.get("invoicecode")},{preserveState:!0,preserveScroll:!0})},children:({values:s,setFieldValue:a,handleSubmit:r})=>e.jsx(de,{className:"w-full flex items-center gap-3",children:e.jsx("div",{className:"relative w-full md:max-w-md",children:e.jsx(xe,{name:"search",children:({field:i,form:h})=>e.jsxs("div",{className:"relative",children:[e.jsx("input",{...i,type:"text",placeholder:"Search products...",className:"w-full pl-10 pr-10 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 focus:outline-none transition-all duration-300 bg-white shadow-sm hover:shadow-md placeholder-gray-400 text-gray-800",onKeyDown:d=>{d.key==="Enter"&&r()}}),e.jsx("button",{type:"submit",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-cyan-500 focus:outline-none transition-colors","aria-label":"Search",children:e.jsx(me,{className:"w-4 h-4"})}),i.value&&e.jsx("button",{type:"button",onClick:()=>{h.setFieldValue("search",""),x.get(route("product.index"))},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-red-500 focus:outline-none transition-colors","aria-label":"Clear search",children:e.jsx(Ce,{className:"w-4 h-4"})})]})})})})}),g.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{href:route("product.printqr",{id:g.join(",")}),className:"text-white  w-full md:w-64 lg:w-48  py-2 px-4 bg-black rounded-lg hover:bg-gray-600 flex justify-center items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),"Print QR"]}),e.jsxs("button",{onClick:()=>b(!0),className:"text-white w-full md:w-64 lg:w-48  py-2 px-4 bg-red-500 rounded-lg hover:bg-red-600 flex justify-center items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Bulk Delete"]})]}),e.jsxs(m,{href:route("product.create"),className:"text-white w-full md:w-64 lg:w-48 py-2 px-4 bg-cyan-700 rounded-lg hover:bg-cyan-800 flex justify-center items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4"}),"Create"]}),e.jsxs("button",{onClick:()=>f(!0),className:"text-white flex justify-center items-center gap-2 w-full py-2 px-4 rounded-lg bg-black hover:bg-gray-600 md:w-auto",children:[e.jsx(Fe,{}),"Date Range Filter"]})]}),e.jsx("div",{className:"overflow-x-auto rounded-lg shadow-md",children:e.jsxs("table",{className:"w-full table-fixed bg-white text-sm rounded-xl shadow overflow-hidden",children:[e.jsx("thead",{className:"whitespace-nowrap text-xs uppercase bg-gray-200 text-gray-700 tracking-wide border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 w-8",children:e.jsx("input",{type:"checkbox",onChange:s=>{s.target.checked?p(l.data.map(a=>a.id)):p([])},checked:g.length===l.data.length,className:"cursor-pointer rounded-sm border-gray-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 focus:outline-none transition-all duration-300"})}),e.jsx("th",{className:"px-2 py-3 w-6"}),e.jsx("th",{className:"px-2 py-3 w-40 truncate text-left",children:"Product"}),e.jsx("th",{className:"px-2 py-3 w-20",children:"Inventory"}),e.jsx("th",{className:"px-2 py-3 w-28",children:"Purchase Price"}),e.jsx("th",{className:"px-2 py-3 w-28",children:"Selling Price"}),e.jsx("th",{className:"px-2 py-3 w-36",children:e.jsxs("div",{className:"flex items-center justify-between",children:["Categories",e.jsxs("div",{children:[e.jsx(o,{children:e.jsx(o.Trigger,{children:e.jsx("button",{className:"text-gray-500 hover:text-gray-700 transition",children:e.jsx(S,{className:"w-4 h-4"})})})}),e.jsx(o.Content,{children:e.jsx(o.Item,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"cursor-pointer rounded-sm border-gray-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 focus:outline-none transition-all duration-300"}),e.jsx("span",{className:"text-gray-700",children:"Category 1"})]})})})]})]})}),e.jsx("th",{className:"px-2 py-3 w-28",children:e.jsxs("div",{className:"flex items-center justify-between",children:["Brands",e.jsxs("div",{children:[e.jsx(o,{children:e.jsx(o.Trigger,{children:e.jsx("button",{className:"text-gray-500 hover:text-gray-700 transition",children:e.jsx(S,{className:"w-4 h-4"})})})}),e.jsx(o.Content,{children:e.jsx(o.Item,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"cursor-pointer rounded-sm border-gray-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 focus:outline-none transition-all duration-300"}),e.jsx("span",{className:"text-gray-700",children:"Brand 1"})]})})})]})]})}),e.jsx("th",{className:"px-2 py-3 w-20",children:e.jsxs("div",{className:"flex items-center justify-between",children:["Status",e.jsx("div",{children:e.jsxs(o,{children:[e.jsx(o.Trigger,{children:e.jsx("button",{className:"text-gray-500 hover:text-gray-700 transition",children:e.jsx(S,{className:"w-4 h-4"})})}),e.jsx(o.Content,{children:e.jsx(o.Item,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"cursor-pointer rounded-sm border-gray-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 focus:outline-none transition-all duration-300"}),e.jsx("span",{className:"text-gray-700",children:"Available"})]})})})]})})]})}),e.jsx("th",{className:"px-2 py-3 w-32 text-center",children:"Actions"})]})}),e.jsxs("tbody",{className:"whitespace-nowrap text-gray-800",children:[l.data.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"p-4 text-center text-gray-500",children:"No products found."})}),l.data.map(s=>{var r,i,h,d,u,j,B,E,L,R,z;const a=M.includes(s.id);return e.jsxs(c.Fragment,{children:[e.jsxs("tr",{className:`h-12 transition duration-200 ${((r=s==null?void 0:s.stock)==null?void 0:r.quantity)===0||((i=s==null?void 0:s.stock)==null?void 0:i.quantity)===null?"bg-red-100 hover:bg-red-200":((h=s==null?void 0:s.stock)==null?void 0:h.quantity)<5?"bg-yellow-100 hover:bg-yellow-200":"odd:bg-white even:bg-gray-50 hover:bg-gray-100"} ${g.includes(s.id)?"border-cyan-200 border-b":"border-gray-200 border-b"}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",onChange:n=>{n.target.checked?p(k=>[...k,s.id]):p(k=>k.filter(le=>le!==s.id))},checked:g.includes(s.id),className:"cursor-pointer rounded-sm border-gray-300 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 focus:outline-none transition-all duration-300"})}),e.jsx("td",{className:"px-2 py-3",children:e.jsx("button",{onClick:()=>ne(s.id),className:"text-gray-500 hover:text-gray-700 transition",title:"Toggle stock details",children:a?e.jsx(ue,{className:"w-4 h-4"}):e.jsx(pe,{className:"w-4 h-4"})})}),e.jsx("td",{className:"px-2 py-3 w-48 truncate",children:e.jsxs("div",{className:"cursor-pointer hover:text-cyan-600 transition",children:[e.jsx("p",{className:"text-gray-800 font-medium truncate",children:s.name}),s.model&&e.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Model: ",s.model]})]})}),e.jsxs("td",{className:`px-2 py-3 text-center font-medium ${((d=s==null?void 0:s.stock)==null?void 0:d.quantity)===0||((u=s==null?void 0:s.stock)==null?void 0:u.quantity)===null?"text-red-600":((j=s==null?void 0:s.stock)==null?void 0:j.quantity)<5?"text-yellow-600":"text-gray-800"}`,children:[((B=s==null?void 0:s.stock)==null?void 0:B.quantity)??0,e.jsx("span",{className:"text-xs text-gray-500 ms-1",children:"Unit"})]}),e.jsx("td",{className:"px-2 py-3 text-center",children:s.purchase_price||"N/A"}),e.jsx("td",{className:"px-2 py-3 text-center",children:s.selling_price||"N/A"}),e.jsx("td",{className:"px-2 py-3 text-left",children:((E=s==null?void 0:s.categories)==null?void 0:E.length)>0?e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.categories.slice(0,3).map(n=>e.jsx("span",{className:"px-2 py-1 border border-gray-300 rounded text-xs truncate bg-white",children:n.name},n.name)),s.categories.length>3&&e.jsxs("span",{className:"px-2 py-1 border border-gray-300 rounded text-xs bg-gray-100",children:["+",s.categories.length-3]})]}):e.jsx("span",{children:"N/A"})}),e.jsx("td",{className:"px-2 py-3 text-left",children:((L=s==null?void 0:s.brands)==null?void 0:L.length)>0?e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.brands.slice(0,3).map(n=>e.jsx("span",{className:"px-2 py-1 border border-gray-300 rounded text-xs truncate bg-white",children:n.name},n.name)),s.brands.length>3&&e.jsxs("span",{className:"px-2 py-1 border border-gray-300 rounded text-xs bg-gray-100",children:["+",s.brands.length-3]})]}):e.jsx("span",{children:"N/A"})}),e.jsx("td",{className:"px-2 py-3 w-40",children:e.jsxs("label",{className:"relative cursor-pointer inline-block",children:[e.jsx("input",{type:"checkbox",onClick:()=>x.put(route("product.status",s.id),{},{preserveScroll:!0}),className:"sr-only peer ",checked:((R=s==null?void 0:s.stock)==null?void 0:R.status)||!1}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 rounded-full peer-checked:bg-cyan-600 relative transition",children:e.jsx("div",{className:"absolute left-[2px] top-[1px] w-5 h-5 bg-white border border-gray-300 rounded-full transition peer-checked:translate-x-full"})})]})}),e.jsx("td",{className:"px-2 py-3 text-center",children:e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(m,{href:route("product.show",s.code||s.id),title:"View",className:"text-cyan-500 hover:text-cyan-700",children:e.jsx(Me,{className:"w-4 h-4"})}),e.jsx(m,{href:route("product.edit",s.id),title:"Edit",className:"text-yellow-500 hover:text-yellow-700",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(s),title:"Delete",className:"text-red-500 hover:text-red-700",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx(m,{href:route("stock.index",{product_id:s.id}),title:"Stock",className:"text-green-500 hover:text-green-700",children:e.jsx(C,{className:"w-4 h-4"})})]})})]}),a&&e.jsx("tr",{className:"bg-gray-50 text-sm border-t border-gray-200",children:e.jsx("td",{colSpan:"10",className:"px-10 py-4 text-gray-600",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{children:re[s.id]?e.jsx("p",{className:"text-sm text-gray-500 mt-1 animate-pulse",children:"Loading logs..."}):((z=w[s.id])==null?void 0:z.length)>0?e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm ms-12 font-medium ",children:[e.jsx("div",{className:"font-semibold text-gray-700 bg-slate-200 p-2 rounded-l-xl",children:"Available"}),e.jsx("div",{className:"font-semibold text-gray-700 bg-slate-200 p-2",children:"Type"}),e.jsx("div",{className:"font-semibold text-gray-700 bg-slate-200 p-2",children:"Remarks"}),e.jsx("div",{className:"font-semibold text-gray-700 bg-slate-200 p-2 rounded-r-xl",children:"Date"}),w[s.id].map(n=>e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"p-1 text-gray-800",children:(n==null?void 0:n.quantity)||"-"}),e.jsx("div",{className:"p-1 text-gray-800",children:(n==null?void 0:n.type)||"-"}),e.jsx("div",{className:"p-1 text-gray-800",children:(n==null?void 0:n.remarks)||"-"}),e.jsx("div",{className:"p-1 text-gray-800",children:new Date(n==null?void 0:n.created_at).toLocaleString()})]},n.id))]}):e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No stock logs available."})})})})})]},s.id)})]})]})}),e.jsxs("div",{class:"grid px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase border-t dark:border-gray-700 bg-gray-50 sm:grid-cols-9    ",children:[e.jsxs("span",{class:"flex items-center col-span-3",children:[" Showing ",l.from," - ",l.to," of ",l.total," "]}),e.jsx("span",{class:"col-span-2"}),e.jsx("span",{class:"flex col-span-4 mt-2 sm:mt-auto sm:justify-end",children:e.jsx("nav",{"aria-label":"Table navigation",children:e.jsxs("ul",{class:"inline-flex items-center",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>l.links[0].url?x.get(l.links[0].url,{status:t.get("status")||"",search:t.get("search")||"",category:t.get("category")||"",brand:t.get("brand")||"",startdate:t.get("startdate")||"",enddate:t.get("enddate")||"",supplierinvoiceno:t.get("supplierinvoiceno")||"",invoicecode:t.get("invoicecode")||""}):null,class:"px-3 py-1 rounded-md rounded-l-lg focus:outline-none focus:shadow-outline-purple","aria-label":"Previous",children:e.jsx("svg",{"aria-hidden":"true",class:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd","fill-rule":"evenodd"})})})}),(()=>{let s=-1;const a=l.links.findIndex(r=>r.active);return l.links.slice(1,-1).filter((r,i,h)=>{const d=parseInt(r.label,10);if(isNaN(d))return!0;const u=Math.max(0,a-2),j=Math.min(h.length-1,a+2);return i<3||i>h.length-4||i>=u&&i<=j}).map((r,i,h)=>{const d=parseInt(r.label,10),u=!isNaN(d)&&s!==-1&&d-s>1;return isNaN(d)||(s=d),e.jsx("li",{children:u?e.jsx("span",{className:"px-3 py-1",children:"..."}):r.active?e.jsx("button",{className:"px-3 py-1 text-white dark:text-gray-800 transition-colors duration-150 bg-black dark:bg-gray-100 border border-r-0 border-black dark:border-gray-100 rounded-md focus:outline-none focus:shadow-outline-purple","aria-current":"page",children:r.label}):e.jsx("button",{onClick:()=>r.url&&window.location.assign(r.url+`&status=${t.get("status")||""}&search=${t.get("search")||""}&category=${t.get("category")||""}&brand=${t.get("brand")||""}&startdate=${t.get("startdate")||""}&enddate=${t.get("enddate")||""}&supplierinvoiceno=${t.get("supplierinvoiceno")||""}&invoicecode=${t.get("invoicecode")||""}`),className:"px-3 py-1 rounded-md focus:outline-none focus:shadow-outline-purple",children:r.label})},i)})})(),e.jsx("li",{children:e.jsx("button",{onClick:()=>l.links[l.links.length-1].url&&window.location.assign(l.links[l.links.length-1].url+`&status=${t.get("status")||""}&search=${t.get("search")||""}&category=${t.get("category")||""}&brand=${t.get("brand")||""}&startdate=${t.get("startdate")||""}&enddate=${t.get("enddate")||""}&supplierinvoiceno=${t.get("supplierinvoiceno")||""}&invoicecode=${t.get("invoicecode")||""}`),class:"px-3 py-1 rounded-md rounded-r-lg focus:outline-none focus:shadow-outline-purple","aria-label":"Next",children:e.jsx("svg",{class:"w-4 h-4 fill-current","aria-hidden":"true",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd","fill-rule":"evenodd"})})})})]})})})]})]})})}),e.jsx(F,{show:se,onClose:()=>N(!1),maxWidth:"2xl",className:"rounded-xl shadow-2xl",children:e.jsxs("div",{className:"relative p-6 bg-white rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Import Products via CSV"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"How to Import"}),e.jsxs("ul",{className:"space-y-3 text-gray-600 text-sm",children:[e.jsxs("li",{className:"flex items-start",children:["Get the CSV template and complete the necessary fields.",e.jsx("a",{href:"/productexample.csv",className:"inline-flex items-center text-cyan-600 hover:text-cyan-800 transition-colors duration-200 underline ml-1",download:"productexample.csv",children:"Download now"})]}),e.jsxs("li",{className:"flex items-start",children:["Use ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:'"warranty_type"'}),': "none", "years", "months", or "days".']}),e.jsxs("li",{className:"flex items-start",children:["Use ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:'"identity_type"'}),': "none", "sku", "serial", or "imei".']}),e.jsx("li",{className:"flex items-start",children:"Upload the completed CSV file."}),e.jsx("li",{className:"flex items-start",children:'Click "Import" to process your file.'})]})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"csv-upload",type:"file",accept:".csv",onChange:ae,className:"hidden"}),e.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors duration-200",children:[e.jsx(V,{className:"mr-2 h-5 w-5"}),"Import CSV File"]})]})})]})}),e.jsx(q,{isOpen:D!==null,onClose:()=>y(null),title:"Are you sure you want to delete?",onConfirm:()=>{x.delete(route("product.destroy",D.id),{preserveScroll:!0,preserveState:!0}),y(null)}}),e.jsx(q,{isOpen:J,onClose:()=>b(!1),title:"Are you sure you want to delete these products?",onConfirm:()=>{x.post(route("product.bulkdestroy"),{ids:g.join(",")},{onSuccess:()=>{b(!1),p([])}})}}),e.jsxs(F,{show:Z,onClose:()=>P(!1),maxWidth:"6xl",children:[e.jsx("div",{className:"my-4 text-center hide-print",children:e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Purchases QR Codes"})}),e.jsxs("div",{children:[e.jsx("div",{id:"printable-content",className:"grid grid-cols-4 gap-4 max-h-[70vh] overflow-auto p-4",children:l.data.filter(s=>g.includes(s.id)).map((s,a)=>e.jsxs("div",{className:"flex flex-col border border-gray-300 items-center justify-center p-4 break-inside-avoid",children:[e.jsx(Ne,{value:s.code||s.id,size:150,logoOpacity:.8}),e.jsx("div",{className:"mt-2",children:s.code||s.id})]},a))}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("button",{onClick:()=>window.print(),className:"ml-2 bg-black text-white py-2 px-4 mb-4 rounded shadow hover:bg-gray-600 transition duration-300",children:"Print"}),e.jsx("button",{onClick:()=>P(!1),className:"ml-2 bg-red-500 text-white py-2 px-4 mb-4 rounded shadow hover:bg-red-600 transition duration-300",children:"Close"})]})]}),e.jsx("style",{jsx:!0,global:!0,children:`
            @media print {
              body {
                font-size: 12px;
              }

              #printable-content {
                display: grid;
                grid-template-columns: repeat(2, 1fr); /* 2 columns per row */
                gap: 20px;
                padding: 20px;
              }

              #printable-content > div {
                width: 50%;
                page-break-inside: avoid;
                text-align: center;
              }

              .hide-print {
                display: none;
              }

              .break-inside-avoid {
                page-break-inside: avoid; /* Prevents breaking items across pages */
              }

              button {
                display: none; /* Hides buttons during printing */
              }

              @page {
                size: A4; /* Ensures proper page size */
                margin: 20mm; /* Adjust the print margin */
              }
            }
          `})]}),e.jsx(F,{show:ee,onClose:()=>f(!1),maxWidth:"2xl",children:e.jsxs("div",{className:"overflow-y-auto max-h-[80vh]",children:[e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"text-2xl font-medium text-[#5d596c] ",children:"Date Range"})}),e.jsx("div",{className:"px-10 flex justify-center mb-5",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ke.DateRangePicker,{ranges:[v],onChange:s=>{te(s.selection)},className:"w-96"}),e.jsxs("div",{className:"flex justify-center gap-4 mt-5",children:[e.jsx("button",{type:"button",onClick:()=>{f(!1)},className:"text-gray-500 bg-[#eaebec] hover:bg-[#eaebec] focus:ring-4 focus:ring-[#eaebec] font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2",children:"Close"}),e.jsx("button",{type:"button",onClick:()=>{x.get(route("product.index",{startdate:v.startDate,enddate:v.endDate,status:t.get("status")||"",search:t.get("search")||"",category:t.get("category")||"",brand:t.get("brand")||"",supplierinvoiceno:t.get("supplierinvoiceno")||"",invoicecode:t.get("invoicecode")||""}))},className:"text-white bg-black hover:bg-gray-800 focus:ring-4 focus:ring-gray-800  font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2",children:"Filter"})]})]})})]})})]})}export{Ke as default};
