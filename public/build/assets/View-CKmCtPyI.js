import{r as p,j as e,Y as b,y as h}from"./app-1mar-8vl.js";import{A as f}from"./AuthenticatedLayout-BFK6hF-U.js";import"./transition-C3OEI34I.js";import"./ReactToastify-Bv-M04qE.js";import"./Modal-CS_fN6Wl.js";function C(r){const{role:o,permissions:m,permissionsList:c}=r,x=c.reduce((s,t)=>{const[l,...i]=t.split(" "),a=i.join(" ");return s[a]=s[a]||[],s[a].push({action:l,permission:t}),s},{}),[n,d]=p.useState(m),u=s=>{d(t=>t.includes(s)?t.filter(l=>l!==s):[...t,s])},g=async()=>{await h.put(route("role.updatePermission",o.id),n)};return e.jsx(e.Fragment,{children:e.jsxs(f,{auth:r.auth,errors:r.errors,header:e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col px-4 ",children:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Manage Permission Role: ",o.name]})})}),children:[e.jsx(b,{title:"Admin Dashboard"}),e.jsx("div",{className:" grid justify-center py-6 ",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 w-full ",children:[e.jsx("div",{className:"mt-4 ",children:e.jsxs("label",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",checked:c.length===n.length,onChange:s=>{d(s.target.checked?c:[])}}),e.jsx("span",{className:"ml-2",children:"Select All"})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("hr",{}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(x).map(([s,t])=>e.jsx("div",{className:"my-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[e.jsxs("h4",{className:"font-semibold capitalize flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.every(({permission:l})=>n.includes(l)),onChange:()=>{const l=t.map(({permission:a})=>a),i=l.every(a=>n.includes(a));d(a=>i?a.filter(j=>!l.includes(j)):[...a,...l])}}),e.jsx("span",{children:s})]}),t.map(({action:l,permission:i})=>e.jsxs("label",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",checked:n.includes(i),onChange:()=>u(i)}),e.jsxs("span",{className:"ml-2",children:[l," ",s]})]},i))]})},s))})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 w-full sm:w-auto",children:"Save"}),e.jsx("button",{onClick:()=>h.get(route("role.index")),className:"px-4 py-2 bg-gray-500 ml-2 text-white rounded hover:bg-gray-600 w-full sm:w-auto",children:"Cancel"})]})]})})]})})}export{C as default};
