import{j as e,y as l}from"./app-CegDTVyM.js";import{F as u,a as h,b as a,E as r}from"./formik.esm-CMfJSVpr.js";import{c as k,b as t,a as g,d as b}from"./index.esm-B9rlnqHw.js";import{R as y}from"./index-DqJPgGdT.js";import{B as j}from"./ReactToastify-jSZUL7IH.js";function w(c){const{setIsNewSupplierModel:o,codeRoute:d,id:i}=c;return e.jsx(u,{enableReinitialize:!0,initialValues:{person_name:"",email:"",contact:"",address:"",code:""},validationSchema:k({person_name:t().required("Name is required"),email:t().email("Invalid email address"),contact:t().required("Contact is required"),address:t(),code:t().required("Code is required")}),onSubmit:(s,{setSubmitting:n})=>{l.post(route("supplier.store"),s,{onSuccess:()=>{o(!1)},preserveScroll:!0,preserveState:!0})},children:({isSubmitting:s,values:n,errors:N,setFieldValue:m})=>{const x=()=>{l.get(route(d,i||""),{code:!0},{onSuccess:p=>{m("code",p.props.code)},preserveScroll:!0,preserveState:!0})};return e.jsxs(h,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_name",children:"Supplier Name"}),e.jsx(a,{name:"person_name",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier name"}),e.jsx(r,{name:"person_name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_address",children:"Supplier Address"}),e.jsx(a,{name:"address",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier address"}),e.jsx(r,{name:"address",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_contact",children:"Supplier Contact"}),e.jsx(a,{name:"contact",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"number",placeholder:"Enter supplier contact"}),e.jsx(r,{name:"contact",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_email",children:"Supplier Email"}),e.jsx(a,{name:"email",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"email",placeholder:"Enter supplier email"}),e.jsx(r,{name:"email",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",for:"shop_code",children:"Supplier Code"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(a,{name:"code",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier code"}),e.jsx(y,{onClick:()=>x(),size:40,color:"black"})]}),e.jsx(r,{name:"code",component:"div",className:"text-red-500 text-xs mt-1"}),n.code!==""&&e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(n.code),j.success("Copied to clipboard")},className:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mt-2",children:"Copy"})]}),e.jsxs("div",{className:"flex items-center justify-start gap-1 mt-8",children:[e.jsx("button",{className:"bg-black hover:bg-blue-dark text-white font-bold py-2 px-4 rounded-lg",type:"submit",children:"Submit"}),e.jsx("button",{onClick:()=>o(!1),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})]})]})}})}function C(c){const{setIsNewSupplierInvoiceModel:o,codeRoute:d,id:i}=c;return e.jsx(u,{enableReinitialize:!0,initialValues:{supplier_code:"",invoice_no:"",invoice_date:"",due_date:"",total_payment:"",status:"",method:"",cheque_no:"",cheque_date:"",bank_name:"",bank_branch:"",bank_account:"",online_payment_link:"",payment_proof:"",note:""},validationSchema:k({supplier_code:t().required("Supplier Code is required"),invoice_no:t().required("Invoice No is required"),invoice_date:b().required("Invoice Date is required"),due_date:b().required("Due Date is required"),total_payment:g().required("Total Pending Payment is required"),status:t().required("Status is required"),method:t().required("Method is required"),cheque_no:t().when("method",{is:"cheque",then:s=>s.required("Cheque No is required"),otherwise:s=>s.optional()}),cheque_date:t().when("method",{is:"cheque",then:s=>s.required("Cheque Date is required"),otherwise:s=>s.optional()}),bank_name:t(),bank_branch:t(),bank_account:t(),online_payment_link:t().url("Must be a valid URL"),payment_proof:t(),note:t()}),onSubmit:(s,{setSubmitting:n})=>{l.post(route("supplier-invoice.store"),s,{onSuccess:()=>{o(!1)},preserveScroll:!0,preserveState:!0})},children:({isSubmitting:s,values:n,errors:N,setFieldValue:m})=>{const x=()=>{l.get(route(d,i||""),{invoicecode:!0},{onSuccess:p=>{m("invoice_no",p.props.invoicecode)},preserveScroll:!0,preserveState:!0})};return e.jsxs(h,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm  mb-2",children:"Supplier Code"}),e.jsx(a,{name:"supplier_code",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter supplier code"}),e.jsx(r,{name:"supplier_code",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Invoice No"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(a,{name:"invoice_no",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter invoice no"}),e.jsx(y,{onClick:()=>x(),size:40,color:"black"})]}),e.jsx(r,{name:"invoice_no",component:"div",className:"text-red-500 text-xs mt-1"}),n.invoice_no!==""&&e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(n.invoice_no),j.success("Copied to clipboard")},className:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mt-2",children:"Copy"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Invoice Date"}),e.jsx(a,{name:"invoice_date",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"date"}),e.jsx(r,{name:"invoice_date",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Due Date"}),e.jsx(a,{name:"due_date",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"date"}),e.jsx(r,{name:"due_date",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Total Payment"}),e.jsx(a,{name:"total_payment",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"number",placeholder:"Enter total payment"}),e.jsx(r,{name:"total_payment",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Payment Status"}),e.jsxs(a,{as:"select",name:"status",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"})]}),e.jsx(r,{name:"status",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Payment Method"}),e.jsxs(a,{as:"select",name:"method",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",children:[e.jsx("option",{value:"",children:"Select method"}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"cheque",children:"Cheque"}),e.jsx("option",{value:"bank",children:"Bank"}),e.jsx("option",{value:"online",children:"Online"})]}),e.jsx(r,{name:"method",component:"div",className:"text-red-500 text-xs mt-1"})]}),n.method==="cheque"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Cheque No"}),e.jsx(a,{name:"cheque_no",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter cheque no"}),e.jsx(r,{name:"cheque_no",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Cheque Date"}),e.jsx(a,{name:"cheque_date",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"date"}),e.jsx(r,{name:"cheque_date",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),n.method==="bank"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Bank Name (optional)"}),e.jsx(a,{name:"bank_name",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter bank name"}),e.jsx(r,{name:"bank_name",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Brank Brank (optional)"}),e.jsx(a,{name:"bank_branch",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter bank branch"}),e.jsx(r,{name:"bank_branch",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Bank Account No (optional)"}),e.jsx(a,{name:"bank_account",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"text",placeholder:"Enter bank account no"}),e.jsx(r,{name:"bank_account",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),n.method==="online"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Online payment link (optional)"}),e.jsx(a,{name:"online_payment_link",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",type:"url",placeholder:"Enter online payment link"}),e.jsx(r,{name:"online_payment_link",component:"div",className:"text-red-500 text-xs mt-1"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-grey-darker text-sm mb-2",children:"Note (optional)"}),e.jsx(a,{name:"note",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",as:"textarea",placeholder:"Enter note"}),e.jsx(r,{name:"note",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-start gap-1 mt-8",children:[e.jsx("button",{className:"bg-black hover:bg-blue-dark text-white font-bold py-2 px-4 rounded-lg",type:"submit",children:"Submit"}),e.jsx("button",{onClick:()=>o(!1),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})]})]})}})}export{w as S,C as a};
