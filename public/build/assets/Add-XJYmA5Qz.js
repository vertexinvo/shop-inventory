import{r,j as e,Y as f,y as i}from"./app-CrrEk4yu.js";import{F as y,a as v,b as t,E as a}from"./formik.esm-pnLpzAq7.js";import{c as N,b as n,d as k,a as m}from"./index.esm-BFqaOTe9.js";import{A as g,M as w}from"./AuthenticatedLayout-nJ6j8Jxz.js";import{M as x}from"./Modal-BSXhDMwD.js";import"./ReactToastify-CILHxbbh.js";import{S,a as _}from"./SupplierinvoiceForm-qIS5Wp6s.js";import"./transition-DiyAtkF8.js";import"./index-gjFRje1H.js";function K(p){const{auth:u,suppliers:q,supplierinvoices:F,product_id:l}=p,[h,o]=r.useState(!1),[b,d]=r.useState(!1),[M,R]=r.useState(!1),[E,I]=r.useState("");return e.jsxs(g,{tax:u.tax,header:e.jsxs(e.Fragment,{children:[e.jsx(w,{size:20,className:"mr-2 cursor-pointer",onClick:()=>i.get(route("stock.index"),{product_id:l}),title:"Back"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Add Stock Log"})]}),children:[e.jsx(f,{title:"Add Stocklog"}),e.jsx("div",{className:"flex flex-col px-4 mt-10 mx-auto w-full",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"font-sans antialiased bg-grey-lightest",children:e.jsx("div",{className:"w-full bg-grey-lightest",children:e.jsx("div",{className:"container mx-auto py-3 px-5",children:e.jsx("div",{className:"w-full lg:w-full mx-auto bg-white rounded shadow",children:e.jsx(y,{enableReinitialize:!0,initialValues:{quantity:"",type:"",is_supplier:"0",supplier_invoice_no:"",remarks:"",datetime:"",supplier_invoice_no:"",product_id:l,purchase_price:""},validationSchema:N({quantity:n().min(1).required("Quantity is required"),type:m().required("Type is required"),is_supplier:m().required("Is supplier is required"),datetime:k().required("Date is required"),purchase_price:n().when("type",{is:"addition",then:s=>s.required(),otherwise:s=>s.optional()})}),onSubmit:(s,{setSubmitting:j,resetForm:c})=>{i.post(route("stocklog.store"),s,{onSuccess:()=>c()})},children:({values:s,errors:j,touched:c,setFieldValue:A,isSubmitting:C})=>e.jsx(v,{children:e.jsxs("div",{className:"py-4 px-8",children:[e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"area_name",children:"Quantity"}),e.jsx(t,{name:"quantity",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"quantity",type:"number",placeholder:"Enter quantity"}),e.jsx(a,{name:"quantity",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 ml-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"postal_code",children:"Type"}),e.jsxs(t,{name:"type",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"type",as:"select",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"addition",children:"Addition"}),e.jsx("option",{value:"removal",children:"Removal"}),e.jsx("option",{value:"adjustment",children:"Adjustment"})]}),e.jsx(a,{name:"type",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),s.type==="addition"&&e.jsx("div",{className:"flex mb-4",children:e.jsxs("div",{className:"w-full mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"postal_code",children:"Purchase Price (Required)"}),e.jsx(t,{name:"purchase_price",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"purchase_price",type:"number",step:"any",placeholder:"Enter Purchase Price"}),e.jsx(a,{name:"purchase_price",component:"div",className:"text-red-500 text-xs mt-1"})]})}),e.jsxs("div",{className:"flex mb-4",children:[e.jsxs("div",{className:"w-1/2 mr-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"area_name",children:"Date/Time"}),e.jsx(t,{name:"datetime",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"datetime",type:"datetime-local",placeholder:"Enter Date/Time"}),e.jsx(a,{name:"datetime",component:"div",className:"text-red-500 text-xs mt-1"})]}),e.jsxs("div",{className:"w-1/2 ml-1",children:[e.jsx("label",{className:"block text-grey-darker text-sm font-bold mb-2",htmlFor:"postal_code",children:"Remarks (Optional)"}),e.jsx(t,{name:"remarks",className:"appearance-none border rounded w-full py-2 px-3   focus:ring-black focus:border-black text-grey-darker",id:"remarks",type:"text",placeholder:"Enter Remarks"}),e.jsx(a,{name:"remarks",component:"div",className:"text-red-500 text-xs mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-start gap-1 mt-8",children:[e.jsx("button",{className:"bg-black hover:bg-blue-dark text-white font-bold py-2 px-4 rounded-lg",type:"submit",children:"Save"}),e.jsx("button",{onClick:()=>i.get(route("stock.index"),{product_id:l}),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg",type:"button",children:"Close"})]})]})})})})})})})})}),e.jsx(x,{show:h,onClose:()=>o(!1),children:e.jsxs("div",{className:"overflow-y-auto max-h-[80vh]",children:[e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"text-2xl font-medium text-[#5d596c] ",children:"Create New Supplier"})}),e.jsx("div",{className:"px-10 mb-5",children:e.jsx(S,{codeRoute:"product.create",setIsNewSupplierModel:o})})]})}),e.jsx(x,{show:b,onClose:()=>d(!1),children:e.jsxs("div",{className:"overflow-y-auto max-h-[80vh]",children:[e.jsx("div",{className:"flex justify-center p-10",children:e.jsx("div",{className:"text-2xl font-medium text-[#5d596c] ",children:"Create New Invoice"})}),e.jsx("div",{className:"px-10 mb-5",children:e.jsx(_,{codeRoute:"product.create",setIsNewSupplierInvoiceModel:d})})]})})]})}export{K as default};
