import{j as e,y as x}from"./app-B0udZE7F.js";import{F as N,a as y,b as u,E as v}from"./formik.esm-DydONQTA.js";import{F as m,G as k,a as p,b as w,c as h,d as _,e as A,f as B,g}from"./AuthenticatedLayout-BTKJ93ER.js";import{a as F,b as f,M as C}from"./Modal-CstDktYW.js";import{B as I}from"./index-C4GIR6gR.js";import"./ReactToastify-CRRX_O1A.js";import{c as q,a as n,b as E}from"./index.esm-DS7cpSJ6.js";import{S}from"./react-select.esm-DJ79-MT8.js";const M=q({name:n().required("Bank name is required").min(2,"Bank name must be at least 2 characters"),account_number:n().required("Account number is required"),account_type:n().required("Account type is required"),current_balance:E().min(0,"Balance cannot be negative").required("Current balance is required"),iban:n().nullable().matches(/^[A-Z]{2}\d{2}[A-Z0-9]+$/,"Invalid IBAN format"),swift_code:n().nullable().matches(/^[A-Z]{6}[A-Z0-9]{2}([A-Z0-9]{3})?$/,"Invalid SWIFT code format"),routing_number:n().nullable(),bank_phone:n().nullable().matches(/^[\+]?[1-9][\d]{0,15}$/,"Invalid phone number format"),bank_email:n().nullable().email("Invalid email format"),bank_website:n().nullable().url("Invalid website URL")}),$=[{value:"checking",label:"Checking Account"},{value:"savings",label:"Savings Account"},{value:"business",label:"Business Account"},{value:"credit",label:"Credit Account"},{value:"investment",label:"Investment Account"}],T=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],s=({icon:i,label:a,name:r,type:o="text",placeholder:t,required:c=!1,isTextarea:b=!1,rows:l=3,...d})=>e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(i,{className:"text-gray-500 text-lg"}),a,c&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:b?e.jsx(u,{as:"textarea",name:r,rows:l,placeholder:t,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-0 transition-colors duration-200 resize-none bg-gray-50 focus:bg-white",...d}):e.jsx(u,{type:o,name:r,placeholder:t,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-0 transition-colors duration-200 bg-gray-50 focus:bg-white",...d})}),e.jsx(v,{name:r,component:"div",className:"text-red-500 text-sm mt-1 ml-1"})]}),j=({icon:i,label:a,name:r,options:o,required:t=!1})=>e.jsxs("div",{className:"group",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(i,{className:"text-gray-500 text-lg"}),a,t&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{name:r,children:({field:c,form:b})=>e.jsx(S,{options:o,value:o.find(l=>l.value===c.value),onChange:l=>b.setFieldValue(r,l.value),placeholder:`Select ${a.toLowerCase()}...`,className:"react-select-container",classNamePrefix:"react-select",styles:{control:(l,d)=>({...l,border:"2px solid #e5e7eb",borderRadius:"12px",padding:"6px 8px",backgroundColor:"#f9fafb",borderColor:d.isFocused?"#3b82f6":"#e5e7eb",boxShadow:"none","&:hover":{borderColor:d.isFocused?"#3b82f6":"#d1d5db"}}),placeholder:l=>({...l,color:"#9ca3af"})}})}),e.jsx(v,{name:r,component:"div",className:"text-red-500 text-sm mt-1 ml-1"})]}),V=i=>{const{bank:a}=i,r={name:a?a.name:"",account_number:a?a.account_number:"",account_type:a?a.account_type:"",current_balance:a?a.current_balance:0,iban:a?a.iban:"",swift_code:a?a.swift_code:"",routing_number:a?a.routing_number:"",bank_address:a?a.bank_address:"",bank_phone:a?a.bank_phone:"",bank_email:a?a.bank_email:"",bank_website:a?a.bank_website:"",notes:a?a.notes:"",status:a?a.status:"active"},o=(t,{setSubmitting:c})=>{a?x.put(route("bank.update",a.id),t):x.post(route("bank.store"),t,{onFinish:()=>c(!1)})};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(m,{className:"text-white text-2xl"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:a?"Edit Bank Account":"Add New Bank Account"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Manage your bank accounts"})]})]})}),e.jsx(N,{initialValues:r,validationSchema:M,onSubmit:o,children:({isSubmitting:t,values:c,setFieldValue:b})=>e.jsxs(y,{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[e.jsx(m,{className:"text-blue-600 text-xl"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(s,{icon:m,label:"Bank Name",name:"name",placeholder:"Enter bank name",required:!0}),e.jsx(s,{icon:k,label:"Current Balance",name:"current_balance",type:"number",step:"0.01",placeholder:"0.00",required:!0})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[e.jsx(p,{className:"text-green-600 text-xl"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Account Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(s,{icon:F,label:"Account Number",name:"account_number",placeholder:"Enter account number",required:!0}),e.jsx(j,{icon:p,label:"Account Type",name:"account_type",options:$,required:!0}),e.jsx(s,{icon:I,label:"IBAN",name:"iban",placeholder:"GB29 NWBK 6016 1331 9268 19"}),e.jsx(s,{icon:f,label:"SWIFT Code",name:"swift_code",placeholder:"NWBKGB2L"}),e.jsx(s,{icon:f,label:"Routing Number",name:"routing_number",placeholder:"Enter routing number"}),e.jsx(j,{icon:w,label:"Status",name:"status",options:T})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[e.jsx(h,{className:"text-red-600 text-xl"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Bank Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(s,{icon:h,label:"Bank Address",name:"bank_address",placeholder:"Enter bank address",isTextarea:!0,rows:3}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(s,{icon:_,label:"Bank Phone",name:"bank_phone",type:"tel",placeholder:"+1 (555) 123-4567"}),e.jsx(s,{icon:A,label:"Bank Email",name:"bank_email",type:"email",placeholder:"contact@bank.com"}),e.jsx(s,{icon:B,label:"Bank Website",name:"bank_website",type:"url",placeholder:"https://www.bank.com"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[e.jsx(g,{className:"text-purple-600 text-xl"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Additional Information"})]}),e.jsx(s,{icon:g,label:"Notes",name:"notes",placeholder:"Enter any additional notes or comments...",isTextarea:!0,rows:4})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a?"Updating":"Creating","..."]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"text-lg"}),a?"Update":"Create","  Bank Account"]})}),e.jsxs("button",{type:"button",onClick:()=>window.history.back(),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-4 px-8 rounded-xl transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(C,{className:"text-lg"}),"Cancel"]})]})]})})]})};export{V as B};
