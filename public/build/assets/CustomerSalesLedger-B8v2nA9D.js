import{q as p,j as e,Y as j,y as b}from"./app-BoKyvZyz.js";import{A as g,M as N}from"./AuthenticatedLayout-BQdtcsvH.js";import"./transition-CauokmBw.js";import"./ReactToastify-ClOKXfbx.js";import"./Modal-CZed8-MB.js";function A(n){const{auth:i,customer:t,orders:d,openingBalance:a,runningBalance:x,totalPayable:r,totalPaid:l,totalPending:c,totalAdjustments:o}=n,h=p().props.setting;return e.jsxs(g,{user:i.user,header:e.jsxs(e.Fragment,{children:[e.jsx(N,{size:20,className:"mr-2 cursor-pointer",onClick:()=>b.get(route("ledger.sales")),title:"Back"}),e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Customer Sales Ledger"})]}),children:[e.jsx(j,{title:"Customer Sales Ledger"}),e.jsx("style",{children:`
                    @media print {
                        .no-print {
                            display: none;
                        }
                        .print-gap {
                            margin-top: 100px;
                        }
                        /* Hide unnecessary elements */
                        .no-print,
                        nav,
                        aside,
                        .fixed,
                        .toastify-container,
                        .ConfirmModal {
                            display: none !important;
                        }
                        /* Adjust main content for full width */
                        .sm\\:ml-64 {
                            margin-left: 0 !important;
                        }
                        .print-w-full {
                            width: 100%;
                        }
                        /* Ensure a gap before content begins */
                        .print-gap {
                            margin-top: 100px;
                        }
                        /* Handle page breaks for large content */
                        .page-break {
                            page-break-before: always;
                        }
                    }
                `}),e.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-end mb-4 no-print",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"bg-red-500 text-white py-2 px-4 rounded shadow hover:bg-gray-600 transition duration-300",children:"Close"}),e.jsx("button",{onClick:()=>window.print(),className:"ml-2 bg-black text-white py-2 px-4 rounded shadow hover:bg-gray-600 transition duration-300",children:"Print PDF"})]}),e.jsxs("div",{className:"max-w-10xl mx-auto p-6 bg-white rounded shadow-sm my-6",id:"invoice",children:[e.jsxs("div",{className:"grid grid-cols-2 items-center",children:[e.jsx("div",{children:e.jsx("img",{src:h.site_logo||"/images/logo2.png",alt:"Company Logo",className:"h-16"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Customer Sales Ledger"}),e.jsxs("p",{className:"text-gray-500",children:["Generated on: ",new Date().toLocaleDateString()]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t.email||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",t.phone||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",t.address||"N/A"]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Opening Balance"}),e.jsxs("p",{children:["Rs. ",a.toFixed(2)]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Transactions"}),e.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Order Date"}),e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Total Payable"}),e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Paid Amount"}),e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Pending Amount"}),e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Status"}),e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Running Balance"})]})}),e.jsx("tbody",{children:d.map(s=>{const m=a+r-l;return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 px-4",children:s.code||s.id||"N/A"}),e.jsx("td",{className:"py-2 px-4",children:s.order_date||"N/A"}),e.jsxs("td",{className:"py-2 px-4",children:["Rs. ",s.payable_amount||0]}),e.jsxs("td",{className:"py-2 px-4",children:["Rs. ",s.paid_amount||0]}),e.jsxs("td",{className:"py-2 px-4",children:["Rs. ",s.pending_amount.toFixed(2)||0]}),e.jsx("td",{className:"py-2 px-4",children:s.status||"N/A"}),e.jsxs("td",{className:"py-2 px-4",children:["Rs. ",m.toFixed(2)]})]},s.id)})})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Summary"}),e.jsx("table",{className:"min-w-full bg-white border border-gray-300",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Total Payable"}),e.jsxs("td",{className:"py-2 px-4 border-b text-right",children:["Rs. ",r.toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Total Paid"}),e.jsxs("td",{className:"py-2 px-4 border-b text-right",children:["Rs. ",l.toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Total Pending"}),e.jsxs("td",{className:"py-2 px-4 border-b text-right",children:["Rs. ",c.toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Total Adjustments"}),e.jsxs("td",{className:"py-2 px-4 border-b text-right",children:["Rs. ",o.toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Closing Balance"}),e.jsxs("td",{className:"py-2 px-4 border-b text-right",children:["Rs. ",x.toFixed(2)]})]})]})})]}),e.jsxs("div",{className:"border-t-2 pt-4 text-xs text-gray-500 text-center mt-16",children:["Developed by ",e.jsx("strong",{children:"Solinvo"}),e.jsx("span",{className:"mx-1",children:"â€¢"}),e.jsx("a",{href:"https://solinvo.com",target:"_blank",className:"hover:underline",children:"Powered by Vertexinvo"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("strong",{children:"Printed on:"})," ",new Date().toLocaleDateString()," ",new Date().toLocaleTimeString()]})]})]})]})]})}export{A as default};
